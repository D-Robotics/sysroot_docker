
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>logilab.common package &#8212; logilab common  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="logilab.common.ureports package" href="logilab.common.ureports.html" />
    <link rel="prev" title="Logilab’s common library" href="index.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="logilab-common-package">
<h1>logilab.common package<a class="headerlink" href="#logilab-common-package" title="Permalink to this headline">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="logilab.common.ureports.html">logilab.common.ureports package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="logilab.common.ureports.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="logilab.common.ureports.html#module-logilab.common.ureports.docbook_writer">logilab.common.ureports.docbook_writer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="logilab.common.ureports.html#module-logilab.common.ureports.html_writer">logilab.common.ureports.html_writer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="logilab.common.ureports.html#module-logilab.common.ureports.nodes">logilab.common.ureports.nodes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="logilab.common.ureports.html#module-logilab.common.ureports.text_writer">logilab.common.ureports.text_writer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="logilab.common.ureports.html#module-logilab.common.ureports">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-logilab.common.cache">
<span id="logilab-common-cache-module"></span><span id="cache"></span><h2>logilab.common.cache module<a class="headerlink" href="#module-logilab.common.cache" title="Permalink to this headline">¶</a></h2>
<p>Cache module, with a least recently used algorithm for the management of the
deletion of entries.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.cache.Cache">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.cache.</span></span><span class="sig-name descname"><span class="pre">Cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">100</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/cache.html#Cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.cache.Cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A dictionary like cache.</p>
<dl class="simple">
<dt>inv:</dt><dd><p>len(self._usage) &lt;= self.size
len(self.data) &lt;= self.size</p>
</dd>
</dl>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.cache.Cache.clear">
<span class="sig-name descname"><span class="pre">clear</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Remove</span> <span class="pre">all</span> <span class="pre">items</span> <span class="pre">from</span> <span class="pre">D.</span></span></span><a class="headerlink" href="#logilab.common.cache.Cache.clear" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.cache.Cache.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">k</span></span></em><span class="optional">[</span>, <em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="optional">]</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">v,</span> <span class="pre">remove</span> <span class="pre">specified</span> <span class="pre">key</span> <span class="pre">and</span> <span class="pre">return</span> <span class="pre">the</span> <span class="pre">corresponding</span> <span class="pre">value.</span></span></span><a class="headerlink" href="#logilab.common.cache.Cache.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>If key is not found, default is returned if given, otherwise KeyError is raised</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.cache.Cache.popitem">
<span class="sig-name descname"><span class="pre">popitem</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/cache.html#Cache.popitem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.cache.Cache.popitem" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove and return a (key, value) pair as a 2-tuple.</p>
<p>Pairs are returned in LIFO (last-in, first-out) order.
Raises KeyError if the dict is empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.cache.Cache.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/cache.html#Cache.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.cache.Cache.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.cache.Cache.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="optional">[</span><em class="sig-param"><span class="n"><span class="pre">E</span></span></em>, <span class="optional">]</span><em class="sig-param"><span class="n"><span class="pre">**F</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None.</span>&#160; <span class="pre">Update</span> <span class="pre">D</span> <span class="pre">from</span> <span class="pre">dict/iterable</span> <span class="pre">E</span> <span class="pre">and</span> <span class="pre">F.</span></span></span><a class="reference internal" href="_modules/logilab/common/cache.html#Cache.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.cache.Cache.update" title="Permalink to this definition">¶</a></dt>
<dd><p>If E is present and has a .keys() method, then does:  for k in E: D[k] = E[k]
If E is present and lacks a .keys() method, then does:  for k, v in E: D[k] = v
In either case, this is followed by: for k in F:  D[k] = F[k]</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.changelog">
<span id="logilab-common-changelog-module"></span><span id="changelog"></span><h2>logilab.common.changelog module<a class="headerlink" href="#module-logilab.common.changelog" title="Permalink to this headline">¶</a></h2>
<p>Manipulation of upstream change log files.</p>
<p>The upstream change log files format handled is simpler than the one
often used such as those generated by the default Emacs changelog mode.</p>
<p>Sample ChangeLog format:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Change</span> <span class="n">log</span> <span class="k">for</span> <span class="n">project</span> <span class="n">Yoo</span>
<span class="o">==========================</span>

 <span class="o">--</span>
    <span class="o">*</span> <span class="n">add</span> <span class="n">a</span> <span class="n">new</span> <span class="n">functionality</span>

<span class="mi">2002</span><span class="o">-</span><span class="mi">02</span><span class="o">-</span><span class="mi">01</span> <span class="o">--</span> <span class="mf">0.1</span><span class="o">.</span><span class="mi">1</span>
    <span class="o">*</span> <span class="n">fix</span> <span class="n">bug</span> <span class="c1">#435454</span>
    <span class="o">*</span> <span class="n">fix</span> <span class="n">bug</span> <span class="c1">#434356</span>

<span class="mi">2002</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="o">--</span> <span class="mf">0.1</span>
    <span class="o">*</span> <span class="n">initial</span> <span class="n">release</span>
</pre></div>
</div>
<p>There is 3 entries in this change log, one for each released version and one
for the next version (i.e. the current entry).
Each entry contains a set of messages corresponding to changes done in this
release.
All the non empty lines before the first entry are considered as the change
log title.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.changelog.</span></span><span class="sig-name descname"><span class="pre">ChangeLog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">changelog_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>object representation of a whole ChangeLog file</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.add">
<span class="sig-name descname"><span class="pre">add</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.add"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.add" title="Permalink to this definition">¶</a></dt>
<dd><p>add a new message to the latest opened entry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.add_entry">
<span class="sig-name descname"><span class="pre">add_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.changelog.ChangeLogEntry" title="logilab.common.changelog.ChangeLogEntry"><span class="pre">logilab.common.changelog.ChangeLogEntry</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.add_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.add_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>add a new entry to the change log</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.entry_class">
<span class="sig-name descname"><span class="pre">entry_class</span></span><a class="headerlink" href="#logilab.common.changelog.ChangeLog.entry_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#logilab.common.changelog.ChangeLogEntry" title="logilab.common.changelog.ChangeLogEntry"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.changelog.ChangeLogEntry</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.format_title">
<span class="sig-name descname"><span class="pre">format_title</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.format_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.format_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.get_entry">
<span class="sig-name descname"><span class="pre">get_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">create</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.get_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.get_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>return a given changelog entry
if version is omitted, return the current entry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.load" title="Permalink to this definition">¶</a></dt>
<dd><p>read a logilab’s ChangeLog from file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.save">
<span class="sig-name descname"><span class="pre">save</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.save"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.save" title="Permalink to this definition">¶</a></dt>
<dd><p>write back change log</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLog.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">_io.StringIO</span> <span class="pre">=</span> <span class="pre">&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLog.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLog.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write changelog to stream</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLogEntry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.changelog.</span></span><span class="sig-name descname"><span class="pre">ChangeLogEntry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLogEntry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLogEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>a change log entry, i.e. a set of messages associated to a version and
its release date</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLogEntry.add_message">
<span class="sig-name descname"><span class="pre">add_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLogEntry.add_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLogEntry.add_message" title="Permalink to this definition">¶</a></dt>
<dd><p>add a new message</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLogEntry.add_sub_message">
<span class="sig-name descname"><span class="pre">add_sub_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">sub_msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLogEntry.add_sub_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLogEntry.add_sub_message" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLogEntry.complete_latest_message">
<span class="sig-name descname"><span class="pre">complete_latest_message</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg_suite</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLogEntry.complete_latest_message"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLogEntry.complete_latest_message" title="Permalink to this definition">¶</a></dt>
<dd><p>complete the latest added message</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLogEntry.version_class">
<span class="sig-name descname"><span class="pre">version_class</span></span><a class="headerlink" href="#logilab.common.changelog.ChangeLogEntry.version_class" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#logilab.common.changelog.Version" title="logilab.common.changelog.Version"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.changelog.Version</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.ChangeLogEntry.write">
<span class="sig-name descname"><span class="pre">write</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">_io.StringIO</span> <span class="pre">=</span> <span class="pre">&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#ChangeLogEntry.write"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.ChangeLogEntry.write" title="Permalink to this definition">¶</a></dt>
<dd><p>write the entry to file</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.changelog.EntryNotFound">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.changelog.</span></span><span class="sig-name descname"><span class="pre">EntryNotFound</span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#EntryNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.EntryNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>raised when we are unable to find a given entry</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.changelog.NoEntry">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.changelog.</span></span><span class="sig-name descname"><span class="pre">NoEntry</span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#NoEntry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.NoEntry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>raised when we are unable to find an entry</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.changelog.Version">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.changelog.</span></span><span class="sig-name descname"><span class="pre">Version</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">versionstr</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/changelog.html#Version"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.Version" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">tuple</span></code></p>
<p>simple class to handle soft version number has a tuple while
correctly printing it as X.Y.Z</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.changelog.Version.parse">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">versionstr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/changelog.html#Version.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.changelog.Version.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.clcommands">
<span id="logilab-common-clcommands-module"></span><span id="clcommands"></span><h2>logilab.common.clcommands module<a class="headerlink" href="#module-logilab.common.clcommands" title="Permalink to this headline">¶</a></h2>
<p>Helper functions to support command line tools providing more than
one command.</p>
<p>e.g called as “tool command [options] args…” where &lt;options&gt; and &lt;args&gt; are
command’specific</p>
<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.clcommands.BadCommandUsage">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.clcommands.</span></span><span class="sig-name descname"><span class="pre">BadCommandUsage</span></span><a class="reference internal" href="_modules/logilab/common/clcommands.html#BadCommandUsage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.BadCommandUsage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when an unknown command is used or when a command is not
correctly used (bad options, too much / missing arguments…).</p>
<p>Trigger display of command usage.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.clcommands.</span></span><span class="sig-name descname"><span class="pre">Command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#Command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.Command" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.configuration.Configuration" title="logilab.common.configuration.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.configuration.Configuration</span></code></a></p>
<p>Base class for command line commands.</p>
<p>Class attributes:</p>
<ul class="simple">
<li><p><cite>name</cite>, the name of the command</p></li>
<li><p><cite>min_args</cite>, minimum number of arguments, None if unspecified</p></li>
<li><p><cite>max_args</cite>, maximum number of arguments, None if unspecified</p></li>
<li><p><cite>arguments</cite>, string describing arguments, used in command usage</p></li>
<li><p><cite>hidden</cite>, boolean flag telling if the command should be hidden, e.g. does
not appear in help’s commands list</p></li>
<li><p><cite>options</cite>, options list, as allowed by :mod:configuration</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.arguments">
<span class="sig-name descname"><span class="pre">arguments</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#logilab.common.clcommands.Command.arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.check_args">
<span class="sig-name descname"><span class="pre">check_args</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#Command.check_args"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.Command.check_args" title="Permalink to this definition">¶</a></dt>
<dd><p>check command’s arguments are provided</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.description">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">description</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#Command.description"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.Command.description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.hidden">
<span class="sig-name descname"><span class="pre">hidden</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#logilab.common.clcommands.Command.hidden" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.main_run">
<span class="sig-name descname"><span class="pre">main_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#Command.main_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.Command.main_run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the command and return status 0 if everything went fine.</p>
<p>If <a class="reference internal" href="#logilab.common.clcommands.CommandError" title="logilab.common.clcommands.CommandError"><code class="xref py py-exc docutils literal notranslate"><span class="pre">CommandError</span></code></a> is raised by the underlying command, simply log
the error and return status 2.</p>
<p>Any other exceptions, including <a class="reference internal" href="#logilab.common.clcommands.BadCommandUsage" title="logilab.common.clcommands.BadCommandUsage"><code class="xref py py-exc docutils literal notranslate"><span class="pre">BadCommandUsage</span></code></a> will be
propagated.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.max_args">
<span class="sig-name descname"><span class="pre">max_args</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#logilab.common.clcommands.Command.max_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.min_args">
<span class="sig-name descname"><span class="pre">min_args</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#logilab.common.clcommands.Command.min_args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#logilab.common.clcommands.Command.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#Command.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.Command.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run the command with its specific arguments</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.Command.short_description">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">short_description</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#Command.short_description"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.Command.short_description" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.clcommands.</span></span><span class="sig-name descname"><span class="pre">CommandError</span></span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Raised when a command can’t be processed and we want to display it and
exit, without traceback nor usage displayed.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.clcommands.</span></span><span class="sig-name descname"><span class="pre">CommandLine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pgm</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">copyright</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rcfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logthreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">40</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">check_duplicated_command</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>Usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">LDI</span> <span class="o">=</span> <span class="n">cli</span><span class="o">.</span><span class="n">CommandLine</span><span class="p">(</span><span class="s1">&#39;ldi&#39;</span><span class="p">,</span> <span class="n">doc</span><span class="o">=</span><span class="s1">&#39;Logilab debian installer&#39;</span><span class="p">,</span>
<span class="go">                          version=version, rcfile=RCFILE)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LDI</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">MyCommandClass</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LDI</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">MyOtherCommandClass</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">LDI</span><span class="o">.</span><span class="n">run</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>Arguments:</p>
<ul class="simple">
<li><p><cite>pgm</cite>, the program name, default to <cite>basename(sys.argv[0])</cite></p></li>
<li><p><cite>doc</cite>, a short description of the command line tool</p></li>
<li><p><cite>copyright</cite>, additional doc string that will be appended to the generated
doc</p></li>
<li><p><cite>version</cite>, version number of string of the tool. If specified, global
–version option will be available.</p></li>
<li><p><cite>rcfile</cite>, path to a configuration file. If specified, global –C/–rc-file
option will be available?  self.rcfile = rcfile</p></li>
<li><p><cite>logger</cite>, logger to propagate to commands, default to
<cite>logging.getLogger(self.pgm))</cite></p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine.create_logger">
<span class="sig-name descname"><span class="pre">create_logger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">handler</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logthreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine.create_logger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine.create_logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine.get_command">
<span class="sig-name descname"><span class="pre">get_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine.get_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine.get_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine.register" title="Permalink to this definition">¶</a></dt>
<dd><p>register the given <a class="reference internal" href="#logilab.common.clcommands.Command" title="logilab.common.clcommands.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">Command</span></code></a> subclass</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine.run" title="Permalink to this definition">¶</a></dt>
<dd><p>main command line access point:
* init logging
* handle global options (-h/–help, –version, -C/–rc-file)
* check command
* run command</p>
<p>Terminate by <code class="xref py py-exc docutils literal notranslate"><span class="pre">SystemExit</span></code></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine.usage">
<span class="sig-name descname"><span class="pre">usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine.usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine.usage" title="Permalink to this definition">¶</a></dt>
<dd><p>display usage for the main program (i.e. when no command supplied)
and exit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.CommandLine.usage_and_exit">
<span class="sig-name descname"><span class="pre">usage_and_exit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#CommandLine.usage_and_exit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.CommandLine.usage_and_exit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.clcommands.</span></span><span class="sig-name descname"><span class="pre">ListCommandsCommand</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#ListCommandsCommand"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.clcommands.Command" title="logilab.common.clcommands.Command"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.clcommands.Command</span></code></a></p>
<p>list available commands, useful for bash completion.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand.arguments">
<span class="sig-name descname"><span class="pre">arguments</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'[command]'</span></em><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand.arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand.hidden">
<span class="sig-name descname"><span class="pre">hidden</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand.hidden" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'listcommands'</span></em><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand.option_groups">
<span class="sig-name descname"><span class="pre">option_groups</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand.option_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand.options_providers">
<span class="sig-name descname"><span class="pre">options_providers</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">ConfigurationMixIn</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand.options_providers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.clcommands.ListCommandsCommand.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/clcommands.html#ListCommandsCommand.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.clcommands.ListCommandsCommand.run" title="Permalink to this definition">¶</a></dt>
<dd><p>run the command with its specific arguments</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.compat">
<span id="logilab-common-compat-module"></span><span id="compat"></span><h2>logilab.common.compat module<a class="headerlink" href="#module-logilab.common.compat" title="Permalink to this headline">¶</a></h2>
<p>Wrappers around some builtins introduced in python 2.3, 2.4 and
2.5, making them available in for earlier versions of python.</p>
<p>See another compatibility snippets from other projects:</p>
<blockquote>
<div><p><code class="xref py py-mod docutils literal notranslate"><span class="pre">lib2to3.fixes</span></code>
<code class="xref py py-mod docutils literal notranslate"><span class="pre">coverage.backward</span></code>
<code class="xref py py-mod docutils literal notranslate"><span class="pre">unittest2.compatibility</span></code></p>
</div></blockquote>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.compat.method_type">
<span class="sig-prename descclassname"><span class="pre">logilab.common.compat.</span></span><span class="sig-name descname"><span class="pre">method_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">instance</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">klass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/compat.html#method_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.compat.method_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.compat.str_encode">
<span class="sig-prename descclassname"><span class="pre">logilab.common.compat.</span></span><span class="sig-name descname"><span class="pre">str_encode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/compat.html#str_encode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.compat.str_encode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.compat.str_to_bytes">
<span class="sig-prename descclassname"><span class="pre">logilab.common.compat.</span></span><span class="sig-name descname"><span class="pre">str_to_bytes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/compat.html#str_to_bytes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.compat.str_to_bytes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-logilab.common.configuration">
<span id="logilab-common-configuration-module"></span><span id="configuration"></span><h2>logilab.common.configuration module<a class="headerlink" href="#module-logilab.common.configuration" title="Permalink to this headline">¶</a></h2>
<p>Classes to handle advanced configuration in simple to complex applications.</p>
<p>Allows to load the configuration from a file or from command line
options, to generate a sample configuration file or to display
program’s usage. Fills the gap between optik/optparse and ConfigParser
by adding data types (which are also available as a standalone optik
extension in the <cite>optik_ext</cite> module).</p>
<section id="quick-start-simplest-usage">
<h3>Quick start: simplest usage<a class="headerlink" href="#quick-start-simplest-usage" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.configuration.Configuration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.configuration.</span></span><span class="sig-name descname"><span class="pre">Configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#Configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.Configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.configuration.ConfigurationMixIn" title="logilab.common.configuration.ConfigurationMixIn"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.configuration.ConfigurationMixIn</span></code></a></p>
<p>class for simple configurations which don’t need the
manager / providers model and prefer delegation to inheritance</p>
<p>configuration values are accessible through a dict like interface</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.configuration.ConfigurationMixIn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.configuration.</span></span><span class="sig-name descname"><span class="pre">ConfigurationMixIn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#ConfigurationMixIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.ConfigurationMixIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.configuration.OptionsManagerMixIn" title="logilab.common.configuration.OptionsManagerMixIn"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.configuration.OptionsManagerMixIn</span></code></a>, <a class="reference internal" href="#logilab.common.configuration.OptionsProviderMixIn" title="logilab.common.configuration.OptionsProviderMixIn"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.configuration.OptionsProviderMixIn</span></code></a></p>
<p>basic mixin for simple configurations which don’t need the
manager / providers model</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.ConfigurationMixIn.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#ConfigurationMixIn.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.ConfigurationMixIn.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.ConfigurationMixIn.load_defaults">
<span class="sig-name descname"><span class="pre">load_defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#ConfigurationMixIn.load_defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.ConfigurationMixIn.load_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>initialize the provider using default values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.ConfigurationMixIn.register_options">
<span class="sig-name descname"><span class="pre">register_options</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#ConfigurationMixIn.register_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.ConfigurationMixIn.register_options" title="Permalink to this definition">¶</a></dt>
<dd><p>add some options to the configuration</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManager2ConfigurationAdapter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.configuration.</span></span><span class="sig-name descname"><span class="pre">OptionsManager2ConfigurationAdapter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManager2ConfigurationAdapter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManager2ConfigurationAdapter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Adapt an option manager to behave like a
<cite>logilab.common.configuration.Configuration</cite> instance</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManager2ConfigurationAdapter.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManager2ConfigurationAdapter.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManager2ConfigurationAdapter.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.configuration.</span></span><span class="sig-name descname"><span class="pre">OptionsManagerMixIn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">quiet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>MixIn to handle a configuration from both a configuration file and
command line options</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.add_help_section">
<span class="sig-name descname"><span class="pre">add_help_section</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.add_help_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.add_help_section" title="Permalink to this definition">¶</a></dt>
<dd><p>add a dummy option section for help purpose</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.add_optik_option">
<span class="sig-name descname"><span class="pre">add_optik_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.configuration.ConfigurationMixIn" title="logilab.common.configuration.ConfigurationMixIn"><span class="pre">logilab.common.configuration.ConfigurationMixIn</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">optikcontainer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.types.OptionParser</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#logilab.common.optik_ext.OptionGroup" title="optparse.OptionGroup"><span class="pre">optparse.OptionGroup</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.add_optik_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.add_optik_option" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.add_option_group">
<span class="sig-name descname"><span class="pre">add_option_group</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">group_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.configuration.ConfigurationMixIn" title="logilab.common.configuration.ConfigurationMixIn"><span class="pre">logilab.common.configuration.ConfigurationMixIn</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.add_option_group"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.add_option_group" title="Permalink to this definition">¶</a></dt>
<dd><p>add an option group including the listed options</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.cb_set_provider_option">
<span class="sig-name descname"><span class="pre">cb_set_provider_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">logilab.common.types.Option</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">logilab.common.types.OptionParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.cb_set_provider_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.cb_set_provider_option" title="Permalink to this definition">¶</a></dt>
<dd><p>optik callback for option setting</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.generate_config">
<span class="sig-name descname"><span class="pre">generate_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">_io.StringIO</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">_io.TextIOWrapper</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipsections</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">encoding</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.generate_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.generate_config" title="Permalink to this definition">¶</a></dt>
<dd><p>write a configuration file according to the current configuration
into the given stream or stdout</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.generate_manpage">
<span class="sig-name descname"><span class="pre">generate_manpage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pkginfo</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">logilab.common.types.attrdict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">section</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">_io.StringIO</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.generate_manpage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.generate_manpage" title="Permalink to this definition">¶</a></dt>
<dd><p>write a man page for the current configuration into the given
stream or stdout</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.global_set_option">
<span class="sig-name descname"><span class="pre">global_set_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.global_set_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.global_set_option" title="Permalink to this definition">¶</a></dt>
<dd><p>set option on the correct option provider</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.help">
<span class="sig-name descname"><span class="pre">help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.help" title="Permalink to this definition">¶</a></dt>
<dd><p>return the usage string for available options</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.input_config">
<span class="sig-name descname"><span class="pre">input_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">onlysection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputlevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.input_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.input_config" title="Permalink to this definition">¶</a></dt>
<dd><p>interactively get configuration values by asking to the user and generate
a configuration file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.load_command_line_configuration">
<span class="sig-name descname"><span class="pre">load_command_line_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.load_command_line_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.load_command_line_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>override configuration according to command line parameters</p>
<p>return additional arguments</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.load_config_file">
<span class="sig-name descname"><span class="pre">load_config_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.load_config_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.load_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>dispatch values previously read from a configuration file to each
options provider)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.load_configuration">
<span class="sig-name descname"><span class="pre">load_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.load_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.load_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>override configuration according to given parameters</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.load_file_configuration">
<span class="sig-name descname"><span class="pre">load_file_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.load_file_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.load_file_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>load the configuration from file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.load_provider_defaults">
<span class="sig-name descname"><span class="pre">load_provider_defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.load_provider_defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.load_provider_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>initialize configuration using default values</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.optik_option">
<span class="sig-name descname"><span class="pre">optik_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.configuration.ConfigurationMixIn" title="logilab.common.configuration.ConfigurationMixIn"><span class="pre">logilab.common.configuration.ConfigurationMixIn</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.optik_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.optik_option" title="Permalink to this definition">¶</a></dt>
<dd><p>get our personal option definition and return a suitable form for
use with optik/optparse</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.read_config_file">
<span class="sig-name descname"><span class="pre">read_config_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.read_config_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.read_config_file" title="Permalink to this definition">¶</a></dt>
<dd><p>read the configuration file but do not load it (i.e. dispatching
values to each options provider)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.register_options_provider">
<span class="sig-name descname"><span class="pre">register_options_provider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.configuration.ConfigurationMixIn" title="logilab.common.configuration.ConfigurationMixIn"><span class="pre">logilab.common.configuration.ConfigurationMixIn</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">own_group</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.register_options_provider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.register_options_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>register an options provider</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsManagerMixIn.reset_parsers">
<span class="sig-name descname"><span class="pre">reset_parsers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">usage</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsManagerMixIn.reset_parsers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsManagerMixIn.reset_parsers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.configuration.</span></span><span class="sig-name descname"><span class="pre">OptionsProviderMixIn</span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mixin to provide options to an OptionsManager</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.all_options">
<span class="sig-name descname"><span class="pre">all_options</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.all_options"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.all_options" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator on available options for this provider
option are actually described by a 3-uple:
(section, option name, option dictionary)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.get_option_def">
<span class="sig-name descname"><span class="pre">get_option_def</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.get_option_def"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.get_option_def" title="Permalink to this definition">¶</a></dt>
<dd><p>return the dictionary defining an option given it’s name</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.input_option">
<span class="sig-name descname"><span class="pre">input_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">inputlevel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">99</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.input_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.input_option" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.level">
<span class="sig-name descname"><span class="pre">level</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.load_defaults">
<span class="sig-name descname"><span class="pre">load_defaults</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.load_defaults"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.load_defaults" title="Permalink to this definition">¶</a></dt>
<dd><p>initialize the provider using default values</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.name">
<span class="sig-name descname"><span class="pre">name</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'default'</span></em><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.option_attrname">
<span class="sig-name descname"><span class="pre">option_attrname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.option_attrname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.option_attrname" title="Permalink to this definition">¶</a></dt>
<dd><p>get the config attribute corresponding to opt</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.option_default">
<span class="sig-name descname"><span class="pre">option_default</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.option_default"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.option_default" title="Permalink to this definition">¶</a></dt>
<dd><p>return the default value for an option</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.option_name">
<span class="sig-name descname"><span class="pre">option_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.option_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.option_value">
<span class="sig-name descname"><span class="pre">option_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.option_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.option_value" title="Permalink to this definition">¶</a></dt>
<dd><p>get the current value for the given option</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.options">
<span class="sig-name descname"><span class="pre">options</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">()</span></em><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.options" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.options_and_values">
<span class="sig-name descname"><span class="pre">options_and_values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.options_and_values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.options_and_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.options_by_section">
<span class="sig-name descname"><span class="pre">options_by_section</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.options_by_section"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.options_by_section" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator on options grouped by section</p>
<p>(section, [list of (optname, optdict, optvalue)])</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.priority">
<span class="sig-name descname"><span class="pre">priority</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">-1</span></em><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.priority" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.configuration.OptionsProviderMixIn.set_option">
<span class="sig-name descname"><span class="pre">set_option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">optdict</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/configuration.html#OptionsProviderMixIn.set_option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.configuration.OptionsProviderMixIn.set_option" title="Permalink to this definition">¶</a></dt>
<dd><p>method called to set an option (registered in the options list)</p>
</dd></dl>

</dd></dl>

</section>
</section>
<section id="module-logilab.common.daemon">
<span id="logilab-common-daemon-module"></span><span id="daemon"></span><h2>logilab.common.daemon module<a class="headerlink" href="#module-logilab.common.daemon" title="Permalink to this headline">¶</a></h2>
<p>A daemonize function (for Unices)</p>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.daemon.daemonize">
<span class="sig-prename descclassname"><span class="pre">logilab.common.daemon.</span></span><span class="sig-name descname"><span class="pre">daemonize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pidfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">uid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">umask</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">63</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/daemon.html#daemonize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.daemon.daemonize" title="Permalink to this definition">¶</a></dt>
<dd><p>daemonize a Unix process. Set paranoid umask by default.</p>
<p>Return 1 in the original process, 2 in the first fork, and None for the
second fork (eg daemon process).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.daemon.setugid">
<span class="sig-prename descclassname"><span class="pre">logilab.common.daemon.</span></span><span class="sig-name descname"><span class="pre">setugid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">user</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/daemon.html#setugid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.daemon.setugid" title="Permalink to this definition">¶</a></dt>
<dd><p>Change process user and group ID</p>
<p>Argument is a numeric user id or a user name</p>
</dd></dl>

</section>
<section id="module-logilab.common.date">
<span id="logilab-common-date-module"></span><span id="date"></span><h2>logilab.common.date module<a class="headerlink" href="#module-logilab.common.date" title="Permalink to this headline">¶</a></h2>
<p>Date manipulation helper functions.</p>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.add_days_worked">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">add_days_worked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.date</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#add_days_worked"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.add_days_worked" title="Permalink to this definition">¶</a></dt>
<dd><p>adds date but try to only take days worked into account</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.date_range">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">date_range</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incday</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">incmonth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Generator</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">None</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#date_range"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.date_range" title="Permalink to this definition">¶</a></dt>
<dd><p>yields each date between begin and end</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>begin</strong> – the start date</p></li>
<li><p><strong>end</strong> – the end date</p></li>
<li><p><strong>incr</strong> – the step to use to iterate over dates. Default is
one day.</p></li>
<li><p><strong>include</strong> – None (means no exclusion) or a function taking a
date as parameter, and returning True if the date
should be included.</p></li>
</ul>
</dd>
</dl>
<p>When using mx datetime, you should <em>NOT</em> use incmonth argument, use instead
oneDay, oneHour, oneMinute, oneSecond, oneWeek or endOfMonth (to enumerate
months) as <cite>incday</cite> argument</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.datefactory">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">datefactory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">year</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">month</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">day</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampledate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#datefactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.datefactory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.datetime2ticks">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">datetime2ticks</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#datetime2ticks"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.datetime2ticks" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.datetime_to_seconds">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">datetime_to_seconds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#datetime_to_seconds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.datetime_to_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of seconds since the begining of the day for that date</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.days_between">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">days_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#days_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.days_between" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.days_in_month">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">days_in_month</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#days_in_month"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.days_in_month" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.days_in_year">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">days_in_year</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#days_in_year"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.days_in_year" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.first_day">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">first_day</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#first_day"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.first_day" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.get_national_holidays">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">get_national_holidays</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">begin</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#get_national_holidays"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.get_national_holidays" title="Permalink to this definition">¶</a></dt>
<dd><p>return french national days off between begin and end</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.get_step">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">get_step</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dateobj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbdays</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.timedelta</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#get_step"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.get_step" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.last_day">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">last_day</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.date</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#last_day"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.last_day" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.nb_open_days">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">nb_open_days</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#nb_open_days"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.nb_open_days" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.next_month">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">next_month</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbmonth</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.date</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#next_month"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.next_month" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.previous_month">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">previous_month</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">nbmonth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#previous_month"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.previous_month" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.str2date">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">str2date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">datestr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sampledate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#str2date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.str2date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.strptime_time">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">strptime_time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%H:%M'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#strptime_time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.strptime_time" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.ticks2datetime">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">ticks2datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ticks</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.datetime</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#ticks2datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.ticks2datetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.timedelta_to_days">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">timedelta_to_days</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#timedelta_to_days"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.timedelta_to_days" title="Permalink to this definition">¶</a></dt>
<dd><p>return the time delta as a number of seconds</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.timedelta_to_seconds">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">timedelta_to_seconds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delta</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#timedelta_to_seconds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.timedelta_to_seconds" title="Permalink to this definition">¶</a></dt>
<dd><p>return the time delta as a fraction of days</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.todate">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">todate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.date</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.date</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#todate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.todate" title="Permalink to this definition">¶</a></dt>
<dd><p>return a date from a date (leaving unchanged) or a datetime</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.todatetime">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">todatetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#todatetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.todatetime" title="Permalink to this definition">¶</a></dt>
<dd><p>return a date from a date (leaving unchanged) or a datetime</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.totime">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">totime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#totime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.totime" title="Permalink to this definition">¶</a></dt>
<dd><p>return a time from a time (leaving unchanged), date or datetime</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.ustrftime">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">ustrftime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">somedate</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.datetime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'%Y-%m-%d'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#ustrftime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.ustrftime" title="Permalink to this definition">¶</a></dt>
<dd><p>like strftime, but returns a unicode string instead of an encoded
string which may be problematic with localized date.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.utcdatetime">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">utcdatetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">datetime.datetime</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">datetime.datetime</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#utcdatetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.utcdatetime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.utctime">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">utctime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dt</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/date.html#utctime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.utctime" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.date.weekday">
<span class="sig-prename descclassname"><span class="pre">logilab.common.date.</span></span><span class="sig-name descname"><span class="pre">weekday</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dateobj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime.date</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">datetime.datetime</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/date.html#weekday"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.date.weekday" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-logilab.common.debugger">
<span id="logilab-common-debugger-module"></span><span id="debugger"></span><h2>logilab.common.debugger module<a class="headerlink" href="#module-logilab.common.debugger" title="Permalink to this headline">¶</a></h2>
<p>Customized version of pdb’s default debugger.</p>
<ul class="simple">
<li><p>sets up a history file</p></li>
<li><p>uses ipython if available to colorize lines of code</p></li>
<li><p>overrides list command to search for current block instead
of using 5 lines of context</p></li>
</ul>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.debugger.</span></span><span class="sig-name descname"><span class="pre">Debugger</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tcbk</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">pdb.Pdb</span></code></p>
<p>custom debugger</p>
<ul class="simple">
<li><p>sets up a history file</p></li>
<li><p>uses ipython if available to colorize lines of code</p></li>
<li><p>overrides list command to search for current block instead
of using 5 lines of context</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.attr_matches">
<span class="sig-name descname"><span class="pre">attr_matches</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespace</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.attr_matches"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.attr_matches" title="Permalink to this definition">¶</a></dt>
<dd><p>implementation coming from rlcompleter.Completer.attr_matches
Compute matches when text contains a dot.</p>
<p>Assuming the text is of the form NAME.NAME….[NAME], and is
evaluatable in self.namespace, it will be evaluated and its attributes
(as revealed by dir()) are used as possible completions.  (For class
instances, class members are also considered.)</p>
<p>WARNING: this can still invoke arbitrary C code, if an object
with a __getattr__ hook is evaluated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.complete_p">
<span class="sig-name descname"><span class="pre">complete_p</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">begin_idx</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_idx</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.complete_p"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.complete_p" title="Permalink to this definition">¶</a></dt>
<dd><p>provide variable names completion for the <code class="docutils literal notranslate"><span class="pre">p</span></code> command</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.do_l">
<span class="sig-name descname"><span class="pre">do_l</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.debugger.Debugger.do_l" title="Permalink to this definition">¶</a></dt>
<dd><p>overrides default list command to display the surrounding block
instead of 5 lines of context</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.do_list">
<span class="sig-name descname"><span class="pre">do_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.do_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.do_list" title="Permalink to this definition">¶</a></dt>
<dd><p>overrides default list command to display the surrounding block
instead of 5 lines of context</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.do_o">
<span class="sig-name descname"><span class="pre">do_o</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.debugger.Debugger.do_o" title="Permalink to this definition">¶</a></dt>
<dd><p>opens source file corresponding to the current stack level</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.do_open">
<span class="sig-name descname"><span class="pre">do_open</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">arg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.do_open"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.do_open" title="Permalink to this definition">¶</a></dt>
<dd><p>opens source file corresponding to the current stack level</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.get_class_members">
<span class="sig-name descname"><span class="pre">get_class_members</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">klass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.get_class_members"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.get_class_members" title="Permalink to this definition">¶</a></dt>
<dd><p>implementation coming from rlcompleter.get_class_members</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.set_quit">
<span class="sig-name descname"><span class="pre">set_quit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.set_quit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.set_quit" title="Permalink to this definition">¶</a></dt>
<dd><p>quit hook: save commands in the history file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.setup">
<span class="sig-name descname"><span class="pre">setup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">frame</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tcbk</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.setup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.setup" title="Permalink to this definition">¶</a></dt>
<dd><p>setup hook: set up history file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.setup_history_file">
<span class="sig-name descname"><span class="pre">setup_history_file</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.setup_history_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.setup_history_file" title="Permalink to this definition">¶</a></dt>
<dd><p>if readline is available, read pdb history file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.debugger.Debugger.start">
<span class="sig-name descname"><span class="pre">start</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#Debugger.start"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.Debugger.start" title="Permalink to this definition">¶</a></dt>
<dd><p>starts the interactive mode</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.debugger.colorize">
<span class="sig-prename descclassname"><span class="pre">logilab.common.debugger.</span></span><span class="sig-name descname"><span class="pre">colorize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_lineno</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">curlineno</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#colorize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.colorize" title="Permalink to this definition">¶</a></dt>
<dd><p>fallback colorize function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.debugger.colorize_source">
<span class="sig-prename descclassname"><span class="pre">logilab.common.debugger.</span></span><span class="sig-name descname"><span class="pre">colorize_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#colorize_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.colorize_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.debugger.getsource">
<span class="sig-prename descclassname"><span class="pre">logilab.common.debugger.</span></span><span class="sig-name descname"><span class="pre">getsource</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#getsource"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.getsource" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the text of the source code for an object.</p>
<p>The argument may be a module, class, method, function, traceback, frame,
or code object.  The source code is returned as a single string.  An
IOError is raised if the source code cannot be retrieved.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.debugger.pm">
<span class="sig-prename descclassname"><span class="pre">logilab.common.debugger.</span></span><span class="sig-name descname"><span class="pre">pm</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#pm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.pm" title="Permalink to this definition">¶</a></dt>
<dd><p>use our custom debugger</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.debugger.set_trace">
<span class="sig-prename descclassname"><span class="pre">logilab.common.debugger.</span></span><span class="sig-name descname"><span class="pre">set_trace</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/debugger.html#set_trace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.debugger.set_trace" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-logilab.common.decorators">
<span id="logilab-common-decorators-module"></span><span id="decorators"></span><h2>logilab.common.decorators module<a class="headerlink" href="#module-logilab.common.decorators" title="Permalink to this headline">¶</a></h2>
<p>A few useful function/method decorators.</p>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.cached">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">cached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">callableobj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keyarg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#logilab.common.decorators.cached_decorator" title="logilab.common.decorators.cached_decorator"><span class="pre">logilab.common.decorators.cached_decorator</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/decorators.html#cached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.cached" title="Permalink to this definition">¶</a></dt>
<dd><p>Simple decorator to cache result of method call.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.decorators.cached_decorator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">cached_decorator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cacheattr</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">keyarg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#cached_decorator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.cached_decorator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.decorators.cachedproperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">cachedproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapped</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#cachedproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.cachedproperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Provides a cached property equivalent to the stacking of
&#64;cached and &#64;property, but more efficient.</p>
<p>After first usage, the &lt;property_name&gt; becomes part of the object’s
__dict__. Doing:</p>
<blockquote>
<div><p>del obj.&lt;property_name&gt; empties the cache.</p>
</div></blockquote>
<p>Idea taken from the <a class="reference external" href="http://pypi.python.org/pypi/pyramid">pyramid</a> framework and the <a class="reference external" href="http://pypi.python.org/pypi/Mercurial">mercurial</a> project.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.decorators.cachedproperty.wrapped">
<span class="sig-name descname"><span class="pre">wrapped</span></span><a class="headerlink" href="#logilab.common.decorators.cachedproperty.wrapped" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.decorators.classproperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">classproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#classproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.classproperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>this is a simple property-like class but for class attributes.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.clear_cache">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">clear_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#clear_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.clear_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Clear a cache handled by the <a class="reference internal" href="#logilab.common.decorators.cached" title="logilab.common.decorators.cached"><code class="xref py py-func docutils literal notranslate"><span class="pre">cached()</span></code></a> decorator. If ‘x’ class has
&#64;cached on its method <cite>foo</cite>, type</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">clear_cache</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>to purge this method’s cache on the instance.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.copy_cache">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">copy_cache</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cacheobj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#copy_cache"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.copy_cache" title="Permalink to this definition">¶</a></dt>
<dd><p>Copy cache for &lt;funcname&gt; from cacheobj to obj.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.get_cache_impl">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">get_cache_impl</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">funcname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#get_cache_impl"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.get_cache_impl" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.decorators.iclassmethod">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">iclassmethod</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#iclassmethod"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.iclassmethod" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Descriptor for method which should be available as class method if called
on the class or instance method if called on an instance.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.locked">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">locked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">acquire</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">release</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#locked"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.locked" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator taking two methods to acquire/release a lock as argument,
returning a decorator function which will call the inner method after
having called acquire(self) et will call release(self) afterwards.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.monkeypatch">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">monkeypatch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">klass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">methodname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/decorators.html#monkeypatch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.monkeypatch" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator extending class with the decorated callable. This is basically
a syntactic sugar vs class assignment.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">class</span> <span class="nc">A</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">pass</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@monkeypatch</span><span class="p">(</span><span class="n">A</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">meth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">12</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">A</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">meth</span><span class="p">()</span>
<span class="go">12</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nd">@monkeypatch</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="s1">&#39;foo&#39;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">meth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="mi">12</span>
<span class="gp">...</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="o">.</span><span class="n">foo</span><span class="p">()</span>
<span class="go">12</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.decorators.timed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">timed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">f</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#timed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.timed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.decorators.wproperty">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.decorators.</span></span><span class="sig-name descname"><span class="pre">wproperty</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setfunc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/decorators.html#wproperty"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.decorators.wproperty" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Simple descriptor expecting to take a modifier function as first argument
and looking for a _&lt;function name&gt; to retrieve the attribute.</p>
</dd></dl>

</section>
<section id="module-logilab.common.deprecation">
<span id="logilab-common-deprecation-module"></span><span id="deprecation"></span><h2>logilab.common.deprecation module<a class="headerlink" href="#module-logilab.common.deprecation" title="Permalink to this headline">¶</a></h2>
<p>Deprecation utilities.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.deprecation.CallableDeprecatedCallable">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">CallableDeprecatedCallable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#CallableDeprecatedCallable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.CallableDeprecatedCallable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Protocol</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningKind">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">DeprecationWarningKind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#DeprecationWarningKind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningKind" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningKind.ARGUMENT">
<span class="sig-name descname"><span class="pre">ARGUMENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'argument'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningKind.ARGUMENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningKind.ATTRIBUTE">
<span class="sig-name descname"><span class="pre">ATTRIBUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'attribute'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningKind.ATTRIBUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningKind.CALLABLE">
<span class="sig-name descname"><span class="pre">CALLABLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'callable'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningKind.CALLABLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningKind.CLASS">
<span class="sig-name descname"><span class="pre">CLASS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'class'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningKind.CLASS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningKind.MODULE">
<span class="sig-name descname"><span class="pre">MODULE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'module'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningKind.MODULE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningOperation">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">DeprecationWarningOperation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#DeprecationWarningOperation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningOperation" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningOperation.DEPRECATED">
<span class="sig-name descname"><span class="pre">DEPRECATED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'deprecated'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningOperation.DEPRECATED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningOperation.MOVED">
<span class="sig-name descname"><span class="pre">MOVED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'moved'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningOperation.MOVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningOperation.REMOVED">
<span class="sig-name descname"><span class="pre">REMOVED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'removed'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningOperation.REMOVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWarningOperation.RENAMED">
<span class="sig-name descname"><span class="pre">RENAMED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'renamed'</span></em><a class="headerlink" href="#logilab.common.deprecation.DeprecationWarningOperation.RENAMED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.deprecation.DeprecationWrapper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">DeprecationWrapper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proxied</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#DeprecationWrapper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.DeprecationWrapper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>proxy to print a warning on access to any attribute of the wrapped object</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.deprecation.StructuredDeprecationWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">StructuredDeprecationWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#StructuredDeprecationWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.StructuredDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">DeprecationWarning</span></code></p>
<p>Base class for all structured DeprecationWarning
Mostly used with isinstance</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.deprecation.TargetDeprecatedDeprecationWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">TargetDeprecatedDeprecationWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.deprecation.DeprecationWarningKind" title="logilab.common.deprecation.DeprecationWarningKind"><span class="pre">logilab.common.deprecation.DeprecationWarningKind</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#TargetDeprecatedDeprecationWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.TargetDeprecatedDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.deprecation.StructuredDeprecationWarning" title="logilab.common.deprecation.StructuredDeprecationWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.deprecation.StructuredDeprecationWarning</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.deprecation.TargetMovedDeprecationWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">TargetMovedDeprecationWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.deprecation.DeprecationWarningKind" title="logilab.common.deprecation.DeprecationWarningKind"><span class="pre">logilab.common.deprecation.DeprecationWarningKind</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#TargetMovedDeprecationWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.TargetMovedDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.deprecation.StructuredDeprecationWarning" title="logilab.common.deprecation.StructuredDeprecationWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.deprecation.StructuredDeprecationWarning</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.deprecation.TargetRemovedDeprecationWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">TargetRemovedDeprecationWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.deprecation.DeprecationWarningKind" title="logilab.common.deprecation.DeprecationWarningKind"><span class="pre">logilab.common.deprecation.DeprecationWarningKind</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#TargetRemovedDeprecationWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.TargetRemovedDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.deprecation.StructuredDeprecationWarning" title="logilab.common.deprecation.StructuredDeprecationWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.deprecation.StructuredDeprecationWarning</span></code></a></p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.deprecation.TargetRenamedDeprecationWarning">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">TargetRenamedDeprecationWarning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kind</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.deprecation.DeprecationWarningKind" title="logilab.common.deprecation.DeprecationWarningKind"><span class="pre">logilab.common.deprecation.DeprecationWarningKind</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/deprecation.html#TargetRenamedDeprecationWarning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.TargetRenamedDeprecationWarning" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.deprecation.StructuredDeprecationWarning" title="logilab.common.deprecation.StructuredDeprecationWarning"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.deprecation.StructuredDeprecationWarning</span></code></a></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.argument_removed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">argument_removed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_argument_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#argument_removed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.argument_removed" title="Permalink to this definition">¶</a></dt>
<dd><p>callable decorator to allow getting backward compatibility for renamed keyword arguments.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@argument_removed</span><span class="p">(</span><span class="s2">&quot;old&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">some_function</span><span class="p">(</span><span class="n">new</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">new</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">some_function</span><span class="p">(</span><span class="n">old</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="go">sample.py:15: DeprecationWarning: argument old of callable some_function has been renamed and</span>
<span class="go">is deprecated, use keyword argument new instead some_function(old=42)</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.argument_renamed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">argument_renamed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#argument_renamed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.argument_renamed" title="Permalink to this definition">¶</a></dt>
<dd><p>callable decorator to allow getting backward compatibility for renamed keyword arguments.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@argument_renamed</span><span class="p">(</span><span class="n">old_name</span><span class="o">=</span><span class="s2">&quot;old&quot;</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">def</span> <span class="nf">some_function</span><span class="p">(</span><span class="n">new</span><span class="p">):</span>
<span class="gp">... </span>    <span class="k">return</span> <span class="n">new</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">some_function</span><span class="p">(</span><span class="n">old</span><span class="o">=</span><span class="mi">42</span><span class="p">)</span>
<span class="go">sample.py:15: DeprecationWarning: argument old of callable some_function has been renamed and</span>
<span class="go">is deprecated, use keyword argument new instead</span>
<span class="go">  some_function(old=42)</span>
<span class="go">42</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.attribute_renamed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">attribute_renamed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#attribute_renamed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.attribute_renamed" title="Permalink to this definition">¶</a></dt>
<dd><p>class decorator to allow getting backward compatibility for renamed attributes.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@attribute_renamed</span><span class="p">(</span><span class="n">old_name</span><span class="o">=</span><span class="s2">&quot;old&quot;</span><span class="p">,</span> <span class="n">new_name</span><span class="o">=</span><span class="s2">&quot;new&quot;</span><span class="p">)</span>
<span class="gp">... </span><span class="k">class</span> <span class="nc">SomeClass</span><span class="p">:</span>
<span class="gp">... </span>    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
<span class="gp">... </span>        <span class="bp">self</span><span class="o">.</span><span class="n">new</span> <span class="o">=</span> <span class="mi">42</span>
</pre></div>
</div>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">some_class</span> <span class="o">=</span> <span class="n">SomeClass</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">some_class</span><span class="o">.</span><span class="n">old</span><span class="p">)</span>
<span class="go">sample.py:15: DeprecationWarning: SomeClass.old has been renamed and is deprecated, use</span>
<span class="go">SomeClass.new instead</span>
<span class="go">  print(some_class.old)</span>
<span class="go">42</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">some_class</span><span class="o">.</span><span class="n">old</span> <span class="o">=</span> <span class="mi">43</span>
<span class="go">sample.py:16: DeprecationWarning: SomeClass.old has been renamed and is deprecated, use</span>
<span class="go">SomeClass.new instead</span>
<span class="go">  some_class.old = 43</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">some_class</span><span class="o">.</span><span class="n">old</span> <span class="o">==</span> <span class="n">some_class</span><span class="o">.</span><span class="n">new</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.callable_deprecated">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">callable_deprecated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacklevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#callable_deprecated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.callable_deprecated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.callable_moved">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">callable_moved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacklevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#callable_moved"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.callable_moved" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.callable_renamed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">callable_renamed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#callable_renamed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.callable_renamed" title="Permalink to this definition">¶</a></dt>
<dd><p>use to tell that a callable has been renamed.</p>
<p>It returns a callable wrapper, so that when its called a warning is printed
telling what is the object new name.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">old_function</span> <span class="o">=</span> <span class="n">renamed</span><span class="p">(</span><span class="s1">&#39;old_function&#39;</span><span class="p">,</span> <span class="n">new_function</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">old_function</span><span class="p">()</span>
<span class="go">sample.py:57: DeprecationWarning: old_function has been renamed and is deprecated, uses</span>
<span class="go">new_function instead old_function()</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.deprecation.class_deprecated">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">class_deprecated</span></span><a class="headerlink" href="#logilab.common.deprecation.class_deprecated" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.deprecation._generate_class_deprecated.&lt;locals&gt;._class_deprecated</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.class_moved">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">class_moved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">type</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#class_moved"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.class_moved" title="Permalink to this definition">¶</a></dt>
<dd><p>nice wrapper around class_renamed when a class has been moved into
another module</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.class_renamed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">class_renamed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_name:</span> <span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_class:</span> <span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_name:</span> <span class="pre">Optional[str]</span> <span class="pre">=</span> <span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecated_warning_class=&lt;class</span> <span class="pre">'logilab.common.deprecation.TargetRenamedDeprecationWarning'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecated_warning_kwargs=None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">type</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#class_renamed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.class_renamed" title="Permalink to this definition">¶</a></dt>
<dd><p>automatically creates a class which fires a DeprecationWarning
when instantiated.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">Set</span> <span class="o">=</span> <span class="n">class_renamed</span><span class="p">(</span><span class="s1">&#39;Set&#39;</span><span class="p">,</span> <span class="nb">set</span><span class="p">,</span> <span class="s1">&#39;Set is now replaced by set&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">s</span> <span class="o">=</span> <span class="n">Set</span><span class="p">()</span>
<span class="go">sample.py:57: DeprecationWarning: Set is now replaced by set</span>
<span class="go">s = Set()</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.deprecated">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">deprecated</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacklevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#logilab.common.deprecation.deprecated" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.get_real__name__">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">get_real__name__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">some_callable</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#get_real__name__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.get_real__name__" title="Permalink to this definition">¶</a></dt>
<dd><p>This is another super edge magic case which is needed because we uses
lazy_wraps because of logilab.common.modutils.LazyObject and because
__name__ has special behavior and doesn’t work like a normal attribute and
that __getattribute__ of lazy_wraps is bypassed.</p>
<p>Therefor, to get the real callable name when several lazy_wrapped
decorator are used we need to travers the __wrapped__ attributes chain.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.lazy_wraps">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">lazy_wraps</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">wrapped</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#lazy_wraps"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.lazy_wraps" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the equivalent of the &#64;wraps decorator of functools except it won’t
try to grabs attributes of the targeted function on decoration but on access.</p>
<p>This is needed because of logilab.common.modutils.LazyObject.</p>
<p>Indeed: if you try to decorate a LazyObject with &#64;wraps, wraps will try to
access attributes of LazyObject and this will trigger the attempt to import
the module decorated by LazyObject which you don’t want to do when you just
want to mark this LazyObject has been a deprecated objet that you only
wants to trigger if the user try to use it.</p>
<p>Usage: like &#64;wraps()</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="nd">@lazy_wraps</span><span class="p">(</span><span class="n">function</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">def</span> <span class="nf">wrapper</span><span class="p">(</span><span class="o">*</span><span class="n">args</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span> <span class="o">...</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.moved">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">moved</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">object_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacklevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#logilab.common.deprecation.moved" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.renamed">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">renamed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#logilab.common.deprecation.renamed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.deprecation.send_warning">
<span class="sig-prename descclassname"><span class="pre">logilab.common.deprecation.</span></span><span class="sig-name descname"><span class="pre">send_warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">reason</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecation_class</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Type</span><span class="p"><span class="pre">[</span></span><span class="pre">DeprecationWarning</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">deprecation_class_kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">version</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stacklevel</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">2</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/deprecation.html#send_warning"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.deprecation.send_warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Display a deprecation message only if the version is older than the
compatible version.</p>
</dd></dl>

</section>
<section id="module-logilab.common.fileutils">
<span id="logilab-common-fileutils-module"></span><span id="fileutils"></span><h2>logilab.common.fileutils module<a class="headerlink" href="#module-logilab.common.fileutils" title="Permalink to this headline">¶</a></h2>
<p>File and file-path manipulation utilities.</p>
<dl class="field-list simple">
<dt class="field-odd">group path manipulation</dt>
<dd class="field-odd"><p>first_level_directory, relative_path, is_binary,get_by_ext, remove_dead_links</p>
</dd>
<dt class="field-even">group file manipulation</dt>
<dd class="field-even"><p>norm_read, norm_open, lines, stream_lines, lines,write_open_mode, ensure_fs_mode, export</p>
</dd>
<dt class="field-odd">sort</dt>
<dd class="field-odd"><p>path manipulation, file manipulation</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.fileutils.ProtectedFile">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">ProtectedFile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/fileutils.html#ProtectedFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.ProtectedFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">_io.FileIO</span></code></p>
<p>A special file-object class that automatically does a ‘chmod +w’ when
needed.</p>
<p>XXX: for now, the way it is done allows ‘normal file-objects’ to be
created during the ProtectedFile object lifetime.
One way to circumvent this would be to chmod / unchmod on each
write operation.</p>
<p>One other way would be to :</p>
<ul class="simple">
<li><p>catch the IOError in the __init__</p></li>
<li><p>if IOError, then create a StringIO object</p></li>
<li><p>each write operation writes in this StringIO object</p></li>
<li><p>on close()/del(), write/append the StringIO content to the file and
do the chmod only once</p></li>
</ul>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.fileutils.ProtectedFile.close">
<span class="sig-name descname"><span class="pre">close</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#ProtectedFile.close"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.ProtectedFile.close" title="Permalink to this definition">¶</a></dt>
<dd><p>restore mode before closing</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.fileutils.UnresolvableError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">UnresolvableError</span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#UnresolvableError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.UnresolvableError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Exception raised by relative path when it’s unable to compute relative
path between two paths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.abspath_listdir">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">abspath_listdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/fileutils.html#abspath_listdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.abspath_listdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Lists path’s content using absolute paths.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.ensure_fs_mode">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">ensure_fs_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">desired_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">128</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/fileutils.html#ensure_fs_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.ensure_fs_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Check that the given file has the given mode(s) set, else try to
set it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – path of the file</p></li>
<li><p><strong>desired_mode</strong> (<em>int</em>) – ORed flags describing the desired mode. Use constants from the
<cite>stat</cite> module for file permission’s modes</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.export">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_dir</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('CVS',</span> <span class="pre">'.svn',</span> <span class="pre">'.hg',</span> <span class="pre">'.git',</span> <span class="pre">'.tox',</span> <span class="pre">'debian',</span> <span class="pre">'dist',</span> <span class="pre">'build')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_ext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('.pyc',</span> <span class="pre">'.pyo',</span> <span class="pre">'.elc',</span> <span class="pre">'~',</span> <span class="pre">'.swp',</span> <span class="pre">'.orig')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.export" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a mirror of <cite>from_dir</cite> in <cite>to_dir</cite>, omitting directories and
files listed in the black list or ending with one of the given
extensions.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_dir</strong> (<em>str</em>) – directory to export</p></li>
<li><p><strong>to_dir</strong> (<em>str</em>) – destination directory</p></li>
<li><p><strong>blacklist</strong> (<em>list</em><em> or </em><em>tuple</em>) – list of files or directories to ignore, default to the content of
<cite>BASE_BLACKLIST</cite></p></li>
<li><p><strong>ignore_ext</strong> (<em>list</em><em> or </em><em>tuple</em>) – list of extensions to ignore, default to  the content of
<cite>IGNORED_EXTENSIONS</cite></p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – flag indicating whether information about exported files should be
printed to stderr, default to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.first_level_directory">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">first_level_directory</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#first_level_directory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.first_level_directory" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the first level directory of a path.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">first_level_directory</span><span class="p">(</span><span class="s1">&#39;home/syt/work&#39;</span><span class="p">)</span>
<span class="go">&#39;home&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first_level_directory</span><span class="p">(</span><span class="s1">&#39;/home/syt/work&#39;</span><span class="p">)</span>
<span class="go">&#39;/&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">first_level_directory</span><span class="p">(</span><span class="s1">&#39;work&#39;</span><span class="p">)</span>
<span class="go">&#39;work&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>path</strong> (<em>str</em>) – the path for which we want the first level directory</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the first level directory appearing in <cite>path</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.is_binary">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">is_binary</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#is_binary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.is_binary" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if filename may be a binary file, according to it’s
extension.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – the name of the file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if the file is a binary file (actually if it’s mime type
isn’t beginning by text/)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.lines">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of non empty lines in the file located at <cite>path</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>path</strong> (<em>str</em>) – path to the file</p></li>
<li><p><strong>comments</strong> (<em>str</em><em> or </em><em>None</em>) – optional string which can be used to comment a line in the file
(i.e. lines starting with this string won’t be returned)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of stripped line in the file, without empty and commented
lines</p>
</dd>
<dt class="field-even">Warning</dt>
<dd class="field-even"><p>at some point this function will probably return an iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.relative_path">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">relative_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_file</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/fileutils.html#relative_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.relative_path" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to get a relative path from <cite>from_file</cite> to <cite>to_file</cite>
(path will be absolute if to_file is an absolute file). This function
is useful to create link in <cite>from_file</cite> to <cite>to_file</cite>. This typical use
case is used in this function description.</p>
<p>If both files are relative, they’re expected to be relative to the same
directory.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;toto/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;../index.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;toto/index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;toto/index.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;tutu/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;toto/index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;../toto/index.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;toto/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;/index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;/index.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;/toto/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;/index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;../index.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;/toto/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;/toto/summary.html&#39;</span><span class="p">)</span>
<span class="go">&#39;summary.html&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;toto/index.html&#39;</span><span class="p">)</span>
<span class="gt">Traceback (most recent call last):</span>
  File <span class="nb">&quot;&lt;string&gt;&quot;</span>, line <span class="m">1</span>, in <span class="n">?</span>
  File <span class="nb">&quot;&lt;stdin&gt;&quot;</span>, line <span class="m">37</span>, in <span class="n">relative_path</span>
<span class="gr">UnresolvableError</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">relative_path</span><span class="p">(</span> <span class="n">from_file</span><span class="o">=</span><span class="s1">&#39;/index.html&#39;</span><span class="p">,</span> <span class="n">to_file</span><span class="o">=</span><span class="s1">&#39;/index.html&#39;</span><span class="p">)</span>
<span class="go">&#39;&#39;</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>from_file</strong> (<em>str</em>) – source file (where links will be inserted)</p></li>
<li><p><strong>to_file</strong> (<em>str</em>) – target file (on which links point)</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#logilab.common.fileutils.UnresolvableError" title="logilab.common.fileutils.UnresolvableError"><strong>UnresolvableError</strong></a> – if it has been unable to guess a correct path</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the relative path of <cite>to_file</cite> from <cite>from_file</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.remove_dead_links">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">remove_dead_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbose</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/fileutils.html#remove_dead_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.remove_dead_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively traverse directory and remove all dead links.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – directory to cleanup</p></li>
<li><p><strong>verbose</strong> (<em>bool</em>) – flag indicating whether information about deleted links should be
printed to stderr, default to False</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.stream_lines">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">stream_lines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_io.TextIOWrapper</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">comments</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#stream_lines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.stream_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of non empty lines in the given <cite>stream</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stream</strong> (<em>object implementing 'xreadlines'</em><em> or </em><em>'readlines'</em>) – file like object</p></li>
<li><p><strong>comments</strong> (<em>str</em><em> or </em><em>None</em>) – optional string which can be used to comment a line in the file
(i.e. lines starting with this string won’t be returned)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a list of stripped line in the file, without empty and commented
lines</p>
</dd>
<dt class="field-even">Warning</dt>
<dd class="field-even"><p>at some point this function will probably return an iterator</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.fileutils.write_open_mode">
<span class="sig-prename descclassname"><span class="pre">logilab.common.fileutils.</span></span><span class="sig-name descname"><span class="pre">write_open_mode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/fileutils.html#write_open_mode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.fileutils.write_open_mode" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the write mode that should used to open file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – the name of the file</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the mode that should be use to open the file (‘w’ or ‘wb’)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-logilab.common.graph">
<span id="logilab-common-graph-module"></span><span id="graph"></span><h2>logilab.common.graph module<a class="headerlink" href="#module-logilab.common.graph" title="Permalink to this headline">¶</a></h2>
<p>Graph manipulation utilities.</p>
<p>(dot generation adapted from pypy/translator/tool/make_dot.py)</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">DotBackend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graphname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rankdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ratio</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">charset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'utf-8'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">renderer</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'dot'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">additionnal_param</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#DotBackend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.DotBackend" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Dot File backend.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend.emit">
<span class="sig-name descname"><span class="pre">emit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">line</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#DotBackend.emit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.DotBackend.emit" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds &lt;line&gt; to final output.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend.emit_edge">
<span class="sig-name descname"><span class="pre">emit_edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name2</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">props</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#DotBackend.emit_edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.DotBackend.emit_edge" title="Permalink to this definition">¶</a></dt>
<dd><p>emit an edge from &lt;name1&gt; to &lt;name2&gt;.
edge properties: see <a class="reference external" href="http://www.graphviz.org/doc/info/attrs.html">http://www.graphviz.org/doc/info/attrs.html</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend.emit_node">
<span class="sig-name descname"><span class="pre">emit_node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">props</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#DotBackend.emit_node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.DotBackend.emit_node" title="Permalink to this definition">¶</a></dt>
<dd><p>emit a node with given properties.
node properties: see <a class="reference external" href="http://www.graphviz.org/doc/info/attrs.html">http://www.graphviz.org/doc/info/attrs.html</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">outputfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">dotfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#DotBackend.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.DotBackend.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a graph file.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>outputfile</strong> – filename and path [defaults to graphname.png]</p></li>
<li><p><strong>dotfile</strong> – filename and path [defaults to graphname.dot]</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>a path to the generated file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend.get_source">
<span class="sig-name descname"><span class="pre">get_source</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#DotBackend.get_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.DotBackend.get_source" title="Permalink to this definition">¶</a></dt>
<dd><p>returns self._source</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="logilab.common.graph.DotBackend.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#logilab.common.graph.DotBackend.source" title="Permalink to this definition">¶</a></dt>
<dd><p>returns self._source</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.graph.GraphGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">GraphGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">backend</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#GraphGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.GraphGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.graph.GraphGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">propshdlr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outputfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mapfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#GraphGenerator.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.GraphGenerator.generate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.graph.UnorderableGraph">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">UnorderableGraph</span></span><a class="reference internal" href="_modules/logilab/common/graph.html#UnorderableGraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.UnorderableGraph" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.graph.escape">
<span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">escape</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#escape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.escape" title="Permalink to this definition">¶</a></dt>
<dd><p>Make &lt;value&gt; usable in a dot file.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.graph.get_cycles">
<span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">get_cycles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.graph.V</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.graph.V</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vertices</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Iterable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/graph.html#get_cycles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.get_cycles" title="Permalink to this definition">¶</a></dt>
<dd><p>given a dictionary representing an ordered graph (i.e. key are vertices
and values is a list of destination vertices representing edges), return a
list of detected cycles</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.graph.has_path">
<span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">has_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph_dict</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fromnode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tonode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/graph.html#has_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.has_path" title="Permalink to this definition">¶</a></dt>
<dd><p>generic function taking a simple graph definition as a dictionary, with
node has key associated to a list of nodes directly reachable from it.</p>
<p>Return None if no path exists to go from <cite>fromnode</cite> to <cite>tonode</cite>, else the
first path found (as a list including the destination node at last)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.graph.normalize_node_id">
<span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">normalize_node_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#normalize_node_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.normalize_node_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a suitable DOT node id for <cite>nid</cite>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.graph.ordered_nodes">
<span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">ordered_nodes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">graph</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.graph.V</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.graph.V</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.graph.V</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/graph.html#ordered_nodes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.ordered_nodes" title="Permalink to this definition">¶</a></dt>
<dd><p>takes a dependency graph dict as arguments and return an ordered tuple of
nodes starting with nodes without dependencies and up to the outermost node.</p>
<p>If there is some cycle in the graph, <a class="reference internal" href="#logilab.common.graph.UnorderableGraph" title="logilab.common.graph.UnorderableGraph"><code class="xref py py-exc docutils literal notranslate"><span class="pre">UnorderableGraph</span></code></a> will be raised.</p>
<p>Also the given graph dict will be emptied.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.graph.target_info_from_filename">
<span class="sig-prename descclassname"><span class="pre">logilab.common.graph.</span></span><span class="sig-name descname"><span class="pre">target_info_from_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/graph.html#target_info_from_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.graph.target_info_from_filename" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms /some/path/foo.png into (‘/some/path’, ‘foo.png’, ‘png’).</p>
</dd></dl>

</section>
<section id="module-logilab.common.interface">
<span id="logilab-common-interface-module"></span><span id="interface"></span><h2>logilab.common.interface module<a class="headerlink" href="#module-logilab.common.interface" title="Permalink to this headline">¶</a></h2>
<p>Bases class for interfaces to provide ‘light’ interface handling.</p>
<blockquote>
<div><dl class="simple">
<dt>TODO:</dt><dd><p>_ implements a check method which check that an object implements the interface
_ Attribute objects</p>
</dd>
</dl>
</div></blockquote>
<p>This module requires at least python 2.2</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.interface.Interface">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.interface.</span></span><span class="sig-name descname"><span class="pre">Interface</span></span><a class="reference internal" href="_modules/logilab/common/interface.html#Interface"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.interface.Interface" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Base class for interfaces.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.interface.Interface.is_implemented_by">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_implemented_by</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">instance</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/interface.html#Interface.is_implemented_by"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.interface.Interface.is_implemented_by" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.interface.extend">
<span class="sig-prename descclassname"><span class="pre">logilab.common.interface.</span></span><span class="sig-name descname"><span class="pre">extend</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">klass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_recurs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/interface.html#extend"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.interface.extend" title="Permalink to this definition">¶</a></dt>
<dd><p>Add interface to klass’__implements__ if not already implemented in.</p>
<p>If klass is subclassed, ensure subclasses __implements__ it as well.</p>
<p>NOTE: klass should be e new class.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.interface.implements">
<span class="sig-prename descclassname"><span class="pre">logilab.common.interface.</span></span><span class="sig-name descname"><span class="pre">implements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">interface</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/interface.html#implements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.interface.implements" title="Permalink to this definition">¶</a></dt>
<dd><p>Return true if the give object (maybe an instance or class) implements
the interface.</p>
</dd></dl>

</section>
<section id="module-logilab.common.logging_ext">
<span id="logilab-common-logging-ext-module"></span><span id="logging-ext"></span><h2>logilab.common.logging_ext module<a class="headerlink" href="#module-logilab.common.logging_ext" title="Permalink to this headline">¶</a></h2>
<p>Extends the logging module from the standard library.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.logging_ext.ColorFormatter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">ColorFormatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">datefmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#ColorFormatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.ColorFormatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">logging.Formatter</span></code></p>
<p>A color Formatter for the logging standard module.</p>
<p>By default, colorize CRITICAL and ERROR in red, WARNING in orange, INFO in
green and DEBUG in yellow.</p>
<p>self.colors is customizable via the ‘color’ constructor argument (dictionary).</p>
<p>self.colorfilters is a list of functions that get the LogRecord
and return a color name or None.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.logging_ext.ColorFormatter.format">
<span class="sig-name descname"><span class="pre">format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#ColorFormatter.format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.ColorFormatter.format" title="Permalink to this definition">¶</a></dt>
<dd><p>Format the specified record as text.</p>
<p>The record’s attribute dictionary is used as the operand to a
string formatting operation which yields the returned string.
Before formatting the dictionary, a couple of preparatory steps
are carried out. The message attribute of the record is computed
using LogRecord.getMessage(). If the formatting string uses the
time (as determined by a call to usesTime(), formatTime() is
called to format the event time. If there is exception information,
it is formatted using formatException() and appended to the message.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.get_formatter">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">get_formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(asctime)s</span> <span class="pre">-</span> <span class="pre">(%(name)s)</span> <span class="pre">%(levelname)s:</span> <span class="pre">%(message)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logdateformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d</span> <span class="pre">%H:%M:%S'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#get_formatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.get_formatter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.get_handler">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">get_handler</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">syslog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#get_handler"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.get_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>get an apropriate handler according to given parameters</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.get_threshold">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">get_threshold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logthreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#get_threshold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.get_threshold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.init_log">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">init_log</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">syslog</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logthreshold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logfile</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%(asctime)s</span> <span class="pre">-</span> <span class="pre">(%(name)s)</span> <span class="pre">%(levelname)s:</span> <span class="pre">%(message)s'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logdateformat</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'%Y-%m-%d</span> <span class="pre">%H:%M:%S'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fmt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rotation_parameters</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">handler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#init_log"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.init_log" title="Permalink to this definition">¶</a></dt>
<dd><p>init the log service</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.set_color_formatter">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">set_color_formatter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">logger</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kw</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#set_color_formatter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.set_color_formatter" title="Permalink to this definition">¶</a></dt>
<dd><p>Install a color formatter on the ‘logger’. If not given, it will
defaults to the default logger.</p>
<p>Any additional keyword will be passed as-is to the ColorFormatter
constructor.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.set_log_methods">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">set_log_methods</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">logger</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#set_log_methods"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.set_log_methods" title="Permalink to this definition">¶</a></dt>
<dd><p>bind standard logger’s methods as methods on the class</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.logging_ext.xxx_cyan">
<span class="sig-prename descclassname"><span class="pre">logilab.common.logging_ext.</span></span><span class="sig-name descname"><span class="pre">xxx_cyan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/logging_ext.html#xxx_cyan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.logging_ext.xxx_cyan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-logilab.common.modutils">
<span id="logilab-common-modutils-module"></span><span id="modutils"></span><h2>logilab.common.modutils module<a class="headerlink" href="#module-logilab.common.modutils" title="Permalink to this headline">¶</a></h2>
<p>Python modules manipulation utility functions.</p>
<dl class="field-list simple">
<dt class="field-odd">type PY_SOURCE_EXTS</dt>
<dd class="field-odd"><p>tuple(str)</p>
</dd>
<dt class="field-even">var PY_SOURCE_EXTS</dt>
<dd class="field-even"><p>list of possible python source file extension</p>
</dd>
<dt class="field-odd">type STD_LIB_DIR</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">var STD_LIB_DIR</dt>
<dd class="field-even"><p>directory where standard modules are located</p>
</dd>
<dt class="field-odd">type BUILTIN_MODULES</dt>
<dd class="field-odd"><p>dict</p>
</dd>
<dt class="field-even">var BUILTIN_MODULES</dt>
<dd class="field-even"><p>dictionary with builtin module names as key</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.modutils.LazyObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">LazyObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/modutils.html#LazyObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.LazyObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This class allows to lazyly declare a object (most likely only a callable
according to the code) from a module without importing it.</p>
<p>The import will be triggered when the user tries to access attributes of
the object/callable or call it.</p>
<p>Trying to set or delete attributes of the wrapped object/callable will not
works as expected.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.modutils.NoSourceFile">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">NoSourceFile</span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#NoSourceFile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.NoSourceFile" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>exception raised when we are not able to get a python
source file for a precompiled file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.clean_sys_modules">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">clean_sys_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/modutils.html#clean_sys_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.clean_sys_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>remove submodules starting with name from <cite>names</cite> from <cite>sys.modules</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.cleanup_sys_modules">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">cleanup_sys_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directories</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/modutils.html#cleanup_sys_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.cleanup_sys_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>remove submodules of <cite>directories</cite> from <cite>sys.modules</cite></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.file_from_modpath">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">file_from_modpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#file_from_modpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.file_from_modpath" title="Permalink to this definition">¶</a></dt>
<dd><p>given a mod path (i.e. splitted module / package name), return the
corresponding file, giving priority to source file over precompiled
file if it exists</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modpath</strong> (<em>list</em><em> or </em><em>tuple</em>) – splitted module’s name (i.e name of a module or package splitted
on ‘.’)
(this means explicit relative imports that start with dots have
empty strings in this list!)</p></li>
<li><p><strong>path</strong> (<em>list</em><em> or </em><em>None</em>) – optional list of path where the module or package should be
searched (use sys.path if nothing or None is given)</p></li>
<li><p><strong>context_file</strong> (<em>str</em><em> or </em><em>None</em>) – context file to consider, necessary if the identifier has been
introduced using a relative import unresolvable in the actual
context (i.e. modutils)</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ImportError</strong> – if there is no such module in the directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the path to the module’s file or None if it’s an integrated
builtin module such as ‘sys’</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.get_module_files">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">get_module_files</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">src_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('CVS',</span> <span class="pre">'.svn',</span> <span class="pre">'.hg',</span> <span class="pre">'.git',</span> <span class="pre">'.tox',</span> <span class="pre">'debian',</span> <span class="pre">'dist',</span> <span class="pre">'build')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#get_module_files"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.get_module_files" title="Permalink to this definition">¶</a></dt>
<dd><p>given a package directory return a list of all available python
module’s files in the package and its subpackages</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>src_directory</strong> (<em>str</em>) – path of the directory corresponding to the package</p></li>
<li><p><strong>blacklist</strong> (<em>list</em><em> or </em><em>tuple</em>) – optional list of files or directory to ignore, default to the value of
<cite>logilab.common.STD_BLACKLIST</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list of all available python module’s files in the package and
its subpackages</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.get_module_part">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">get_module_part</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dotted_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">context_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#get_module_part"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.get_module_part" title="Permalink to this definition">¶</a></dt>
<dd><p>given a dotted name return the module part of the name :</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">get_module_part</span><span class="p">(</span><span class="s1">&#39;logilab.common.modutils.get_module_part&#39;</span><span class="p">)</span>
<span class="go">&#39;logilab.common.modutils&#39;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dotted_name</strong> (<em>str</em>) – full name of the identifier we are interested in</p></li>
<li><p><strong>context_file</strong> (<em>str</em><em> or </em><em>None</em>) – context file to consider, necessary if the identifier has been
introduced using a relative import unresolvable in the actual
context (i.e. modutils)</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ImportError</strong> – if there is no such module in the directory</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or None</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the module part of the name or None if we have not been able at
all to import the given name</p>
</dd>
</dl>
<p>XXX: deprecated, since it doesn’t handle package precedence over module
(see #10066)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.get_modules">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">get_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">package</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">src_directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('CVS',</span> <span class="pre">'.svn',</span> <span class="pre">'.hg',</span> <span class="pre">'.git',</span> <span class="pre">'.tox',</span> <span class="pre">'debian',</span> <span class="pre">'dist',</span> <span class="pre">'build')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#get_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.get_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>given a package directory return a list of all available python
modules in the package and its subpackages</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>package</strong> (<em>str</em>) – the python name for the package</p></li>
<li><p><strong>src_directory</strong> (<em>str</em>) – path of the directory corresponding to the package</p></li>
<li><p><strong>blacklist</strong> (<em>list</em><em> or </em><em>tuple</em>) – optional list of files or directory to ignore, default to
the value of <cite>logilab.common.STD_BLACKLIST</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list of all available python modules in the package and its
subpackages</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.get_source_file">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">get_source_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_no_ext</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#get_source_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.get_source_file" title="Permalink to this definition">¶</a></dt>
<dd><p>given a python module’s file name return the matching source file
name (the filename will be returned identically if it’s a already an
absolute path to a python source file…)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> (<em>str</em>) – python module’s file name</p>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><a class="reference internal" href="#logilab.common.modutils.NoSourceFile" title="logilab.common.modutils.NoSourceFile"><strong>NoSourceFile</strong></a> – if no source file exists on the file system</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the absolute path of the source file if it exists</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.is_python_source">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">is_python_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/modutils.html#is_python_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.is_python_source" title="Permalink to this definition">¶</a></dt>
<dd><p>rtype: bool
return: True if the filename is a python source file</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.is_relative">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">is_relative</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">from_file</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#is_relative"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.is_relative" title="Permalink to this definition">¶</a></dt>
<dd><p>return true if the given module name is relative to the given
file name</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modname</strong> (<em>str</em>) – name of the module we are interested in</p></li>
<li><p><strong>from_file</strong> (<em>str</em>) – path of the module from which modname has been imported</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if the module has been imported relatively to <cite>from_file</cite></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.is_standard_module">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">is_standard_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">std_path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('/usr/lib/python3.9',)</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#is_standard_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.is_standard_module" title="Permalink to this definition">¶</a></dt>
<dd><p>try to guess if a module is a standard python module (by default,
see <cite>std_path</cite> parameter’s description)</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>modname</strong> (<em>str</em>) – name of the module we are interested in</p></li>
<li><p><strong>std_path</strong> (<em>list</em><em>(</em><em>str</em><em>) or </em><em>tuple</em><em>(</em><em>str</em><em>)</em>) – list of path considered as standard</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>bool</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>true if the module:
- is located on the path listed in one of the directory in <cite>std_path</cite>
- is a built-in module</p>
</dd>
</dl>
<p>Note: this function is known to return wrong values when inside virtualenv.
See <a class="reference external" href="https://www.logilab.org/ticket/294756">https://www.logilab.org/ticket/294756</a>.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.load_module_from_file">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">load_module_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sys</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapath</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/modutils.html#load_module_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.load_module_from_file" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a Python module from it’s path.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>filepath</strong> (<em>str</em>) – path to the python module or package</p></li>
<li><p><strong>path</strong> (<em>list</em><em> or </em><em>None</em>) – optional list of path where the module or package should be
searched (use sys.path if nothing or None is given)</p></li>
<li><p><strong>use_sys</strong> (<em>bool</em>) – boolean indicating whether the sys.modules dictionary should be
used or not</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ImportError</strong> – if the module or package is not found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>module</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the loaded module</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.load_module_from_modpath">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">load_module_from_modpath</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">module</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#load_module_from_modpath"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.load_module_from_modpath" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a python module from its splitted name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>parts</strong> (<em>list</em><em>(</em><em>str</em><em>) or </em><em>tuple</em><em>(</em><em>str</em><em>)</em>) – python name of a module or package splitted on ‘.’</p></li>
<li><p><strong>path</strong> (<em>list</em><em> or </em><em>None</em>) – optional list of path where the module or package should be
searched (use sys.path if nothing or None is given)</p></li>
<li><p><strong>use_sys</strong> (<em>bool</em>) – boolean indicating whether the sys.modules dictionary should be used or not</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ImportError</strong> – if the module or package is not found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>module</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the loaded module</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.modutils.load_module_from_name">
<span class="sig-prename descclassname"><span class="pre">logilab.common.modutils.</span></span><span class="sig-name descname"><span class="pre">load_module_from_name</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dotted_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">use_sys</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">module</span></span></span><a class="reference internal" href="_modules/logilab/common/modutils.html#load_module_from_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.modutils.load_module_from_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a Python module from its name.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>dotted_name</strong> (<em>str</em>) – python name of a module or package</p></li>
<li><p><strong>path</strong> (<em>list</em><em> or </em><em>None</em>) – optional list of path where the module or package should be
searched (use sys.path if nothing or None is given)</p></li>
<li><p><strong>use_sys</strong> (<em>bool</em>) – boolean indicating whether the sys.modules dictionary should be
used or not</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>ImportError</strong> – if the module or package is not found</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>module</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the loaded module</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-logilab.common.optik_ext">
<span id="logilab-common-optik-ext-module"></span><span id="optik-ext"></span><h2>logilab.common.optik_ext module<a class="headerlink" href="#module-logilab.common.optik_ext" title="Permalink to this headline">¶</a></h2>
<p>Add an abstraction level to transparently import optik classes from optparse
(python &gt;= 2.3) or the optik package.</p>
<p>It also defines three new types for optik/optparse command line parser :</p>
<blockquote>
<div><ul class="simple">
<li><p>regexp
argument of this type will be converted using re.compile</p></li>
<li><p>csv
argument of this type will be converted using split(‘,’)</p></li>
<li><p>yn
argument of this type will be true if ‘y’ or ‘yes’, false if ‘n’ or ‘no’</p></li>
<li><p>named
argument of this type are in the form &lt;NAME&gt;=&lt;VALUE&gt; or &lt;NAME&gt;:&lt;VALUE&gt;</p></li>
<li><p>password
argument of this type wont be converted but this is used by other tools
such as interactive prompt for configuration to double check value and
use an invisible field</p></li>
<li><p>multiple_choice
same as default “choice” type but multiple choices allowed</p></li>
<li><p>file
argument of this type wont be converted but checked that the given file exists</p></li>
<li><p>color
argument of this type wont be converted but checked its either a
named color or a color specified using hexadecimal notation (preceded by a #)</p></li>
<li><p>time
argument of this type will be converted to a float value in seconds
according to time units (ms, s, min, h, d)</p></li>
<li><p>bytes
argument of this type will be converted to a float value in bytes
according to byte units (b, kb, mb, gb, tb)</p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Option">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.optik_ext.</span></span><span class="sig-name descname"><span class="pre">Option</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">opts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">attrs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/optik_ext.html#Option"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.Option" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.Option</span></code></p>
<p>override optik.Option to add some new option types</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Option.ATTRS">
<span class="sig-name descname"><span class="pre">ATTRS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['action',</span> <span class="pre">'type',</span> <span class="pre">'dest',</span> <span class="pre">'default',</span> <span class="pre">'nargs',</span> <span class="pre">'const',</span> <span class="pre">'choices',</span> <span class="pre">'callback',</span> <span class="pre">'callback_args',</span> <span class="pre">'callback_kwargs',</span> <span class="pre">'help',</span> <span class="pre">'metavar',</span> <span class="pre">'hide',</span> <span class="pre">'level']</span></em><a class="headerlink" href="#logilab.common.optik_ext.Option.ATTRS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Option.TYPES">
<span class="sig-name descname"><span class="pre">TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('string',</span> <span class="pre">'int',</span> <span class="pre">'long',</span> <span class="pre">'float',</span> <span class="pre">'complex',</span> <span class="pre">'choice',</span> <span class="pre">'regexp',</span> <span class="pre">'csv',</span> <span class="pre">'yn',</span> <span class="pre">'named',</span> <span class="pre">'password',</span> <span class="pre">'multiple_choice',</span> <span class="pre">'file',</span> <span class="pre">'color',</span> <span class="pre">'time',</span> <span class="pre">'bytes')</span></em><a class="headerlink" href="#logilab.common.optik_ext.Option.TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Option.TYPE_CHECKER">
<span class="sig-name descname"><span class="pre">TYPE_CHECKER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'bytes':</span> <span class="pre">&lt;function</span> <span class="pre">check_bytes&gt;,</span> <span class="pre">'choice':</span> <span class="pre">&lt;function</span> <span class="pre">check_choice&gt;,</span> <span class="pre">'color':</span> <span class="pre">&lt;function</span> <span class="pre">check_color&gt;,</span> <span class="pre">'complex':</span> <span class="pre">&lt;function</span> <span class="pre">check_builtin&gt;,</span> <span class="pre">'csv':</span> <span class="pre">&lt;function</span> <span class="pre">check_csv&gt;,</span> <span class="pre">'file':</span> <span class="pre">&lt;function</span> <span class="pre">check_file&gt;,</span> <span class="pre">'float':</span> <span class="pre">&lt;function</span> <span class="pre">check_builtin&gt;,</span> <span class="pre">'int':</span> <span class="pre">&lt;function</span> <span class="pre">check_builtin&gt;,</span> <span class="pre">'long':</span> <span class="pre">&lt;function</span> <span class="pre">check_builtin&gt;,</span> <span class="pre">'multiple_choice':</span> <span class="pre">&lt;function</span> <span class="pre">check_csv&gt;,</span> <span class="pre">'named':</span> <span class="pre">&lt;function</span> <span class="pre">check_named&gt;,</span> <span class="pre">'password':</span> <span class="pre">&lt;function</span> <span class="pre">check_password&gt;,</span> <span class="pre">'regexp':</span> <span class="pre">&lt;function</span> <span class="pre">check_regexp&gt;,</span> <span class="pre">'time':</span> <span class="pre">&lt;function</span> <span class="pre">check_time&gt;,</span> <span class="pre">'yn':</span> <span class="pre">&lt;function</span> <span class="pre">check_yn&gt;}</span></em><a class="headerlink" href="#logilab.common.optik_ext.Option.TYPE_CHECKER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Option.process">
<span class="sig-name descname"><span class="pre">process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">opt</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">values</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.optik_ext.Values" title="optparse.Values"><span class="pre">optparse.Values</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">optparse.OptionParser</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/optik_ext.html#Option.process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.Option.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionGroup">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.optik_ext.</span></span><span class="sig-name descname"><span class="pre">OptionGroup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">description</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#OptionGroup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionGroup" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.OptionContainer</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionGroup.destroy">
<span class="sig-name descname"><span class="pre">destroy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#OptionGroup.destroy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionGroup.destroy" title="Permalink to this definition">¶</a></dt>
<dd><p>see OptionParser.destroy().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionGroup.format_help">
<span class="sig-name descname"><span class="pre">format_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formatter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#OptionGroup.format_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionGroup.format_help" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionGroup.level">
<span class="sig-name descname"><span class="pre">level</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#logilab.common.optik_ext.OptionGroup.level" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionGroup.set_title">
<span class="sig-name descname"><span class="pre">set_title</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#OptionGroup.set_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionGroup.set_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.optik_ext.</span></span><span class="sig-name descname"><span class="pre">OptionParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">option_class:</span> <span class="pre">type</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'logilab.common.optik_ext.Option'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">*args:</span> <span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs:</span> <span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/optik_ext.html#OptionParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.OptionParser</span></code></p>
<p>override optik.OptionParser to use our Option class</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionParser.format_option_help">
<span class="sig-name descname"><span class="pre">format_option_help</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">formatter</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">optparse.HelpFormatter</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/optik_ext.html#OptionParser.format_option_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionParser.format_option_help" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.optik_ext.OptionValueError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.optik_ext.</span></span><span class="sig-name descname"><span class="pre">OptionValueError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#OptionValueError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.OptionValueError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.OptParseError</span></code></p>
<p>Raised if an invalid option value is encountered on the command
line.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Values">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.optik_ext.</span></span><span class="sig-name descname"><span class="pre">Values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">defaults</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#Values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.Values" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Values.ensure_value">
<span class="sig-name descname"><span class="pre">ensure_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#Values.ensure_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.Values.ensure_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Values.read_file">
<span class="sig-name descname"><span class="pre">read_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'careful'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#Values.read_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.Values.read_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optik_ext.Values.read_module">
<span class="sig-name descname"><span class="pre">read_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'careful'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/optparse.html#Values.read_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optik_ext.Values.read_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.optparser">
<span id="logilab-common-optparser-module"></span><span id="optparser"></span><h2>logilab.common.optparser module<a class="headerlink" href="#module-logilab.common.optparser" title="Permalink to this headline">¶</a></h2>
<p>Extend OptionParser with commands.</p>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span> <span class="o">=</span> <span class="n">OptionParser</span><span class="p">()</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">usage</span> <span class="o">=</span> <span class="s1">&#39;%prog COMMAND [options] &lt;arg&gt; ...&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">&#39;build&#39;</span><span class="p">,</span> <span class="s1">&#39;mymod.build&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">parser</span><span class="o">.</span><span class="n">add_command</span><span class="p">(</span><span class="s1">&#39;clean&#39;</span><span class="p">,</span> <span class="n">run_clean</span><span class="p">,</span> <span class="n">add_opt_clean</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">run</span><span class="p">,</span> <span class="n">options</span><span class="p">,</span> <span class="n">args</span> <span class="o">=</span> <span class="n">parser</span><span class="o">.</span><span class="n">parse_command</span><span class="p">(</span><span class="n">sys</span><span class="o">.</span><span class="n">argv</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">return</span> <span class="n">run</span><span class="p">(</span><span class="n">options</span><span class="p">,</span> <span class="n">args</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span>
</pre></div>
</div>
<p>With mymod.build that defines two functions run and add_options</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.optparser.OptionParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.optparser.</span></span><span class="sig-name descname"><span class="pre">OptionParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/optparser.html#OptionParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optparser.OptionParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">optparse.OptionParser</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optparser.OptionParser.add_command">
<span class="sig-name descname"><span class="pre">add_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mod_or_funcs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">help</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/optparser.html#OptionParser.add_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optparser.OptionParser.add_command" title="Permalink to this definition">¶</a></dt>
<dd><p>name of the command, name of module or tuple of functions
(run, add_options)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optparser.OptionParser.parse_command">
<span class="sig-name descname"><span class="pre">parse_command</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/optparser.html#OptionParser.parse_command"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optparser.OptionParser.parse_command" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.optparser.OptionParser.print_main_help">
<span class="sig-name descname"><span class="pre">print_main_help</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/optparser.html#OptionParser.print_main_help"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.optparser.OptionParser.print_main_help" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.proc">
<span id="logilab-common-proc-module"></span><span id="proc"></span><h2>logilab.common.proc module<a class="headerlink" href="#module-logilab.common.proc" title="Permalink to this headline">¶</a></h2>
<p>module providing:
* process information (linux specific: rely on /proc)
* a class for resource control (memory / time / cpu time)</p>
<p>This module doesn’t work on windows platforms (only tested on linux)</p>
<dl class="field-list simple">
<dt class="field-odd">organization</dt>
<dd class="field-odd"><p>Logilab</p>
</dd>
</dl>
<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.proc.LineageMemoryError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">LineageMemoryError</span></span><a class="reference internal" href="_modules/logilab/common/proc.html#LineageMemoryError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.LineageMemoryError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.proc.ResourceError" title="logilab.common.proc.ResourceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.proc.ResourceError</span></code></a></p>
<p>Error raised when the total amount of memory used by a process and
it’s child is reached</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.proc.LineageMemoryError.limit">
<span class="sig-name descname"><span class="pre">limit</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Lineage</span> <span class="pre">total</span> <span class="pre">Memory'</span></em><a class="headerlink" href="#logilab.common.proc.LineageMemoryError.limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.proc.MemorySentinel">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">MemorySentinel</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">interval</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">memory_limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">gpid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#MemorySentinel"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.MemorySentinel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">threading.Thread</span></code></p>
<p>A class checking a process don’t use too much memory in a separated
daemonic thread</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.MemorySentinel.stop">
<span class="sig-name descname"><span class="pre">stop</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#MemorySentinel.stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.MemorySentinel.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>stop ap</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.proc.NoSuchProcess">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">NoSuchProcess</span></span><a class="reference internal" href="_modules/logilab/common/proc.html#NoSuchProcess"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.NoSuchProcess" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">ProcInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.tree.Node" title="logilab.common.tree.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.tree.Node</span></code></a></p>
<p>provide access to process information found in /proc</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo.age">
<span class="sig-name descname"><span class="pre">age</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo.age"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo.age" title="Permalink to this definition">¶</a></dt>
<dd><p>return the age of the process</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo.lineage_memory_usage">
<span class="sig-name descname"><span class="pre">lineage_memory_usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo.lineage_memory_usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo.lineage_memory_usage" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo.memory_usage">
<span class="sig-name descname"><span class="pre">memory_usage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo.memory_usage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo.memory_usage" title="Permalink to this definition">¶</a></dt>
<dd><p>return the memory usage of the process in Ko</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo.name">
<span class="sig-name descname"><span class="pre">name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo.name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo.name" title="Permalink to this definition">¶</a></dt>
<dd><p>return the process name found in /proc/&lt;pid&gt;/stat</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo.status">
<span class="sig-name descname"><span class="pre">status</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo.status"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo.status" title="Permalink to this definition">¶</a></dt>
<dd><p>return the list of fields found in /proc/&lt;pid&gt;/stat</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfo.time">
<span class="sig-name descname"><span class="pre">time</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfo.time"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfo.time" title="Permalink to this definition">¶</a></dt>
<dd><p>return the number of jiffies that this process has been scheduled
in user and kernel mode</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfoLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">ProcInfoLoader</span></span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfoLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfoLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>manage process information</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfoLoader.list_pids">
<span class="sig-name descname"><span class="pre">list_pids</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfoLoader.list_pids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfoLoader.list_pids" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of existent process ids</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfoLoader.load">
<span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfoLoader.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfoLoader.load" title="Permalink to this definition">¶</a></dt>
<dd><p>get a ProcInfo object for a given pid</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ProcInfoLoader.load_all">
<span class="sig-name descname"><span class="pre">load_all</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ProcInfoLoader.load_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ProcInfoLoader.load_all" title="Permalink to this definition">¶</a></dt>
<dd><p>load all processes information</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.proc.ResourceController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">ResourceController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_cpu_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_time</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_memory</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_reprieve</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">60</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ResourceController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ResourceController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ResourceController.clean_limit">
<span class="sig-name descname"><span class="pre">clean_limit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ResourceController.clean_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ResourceController.clean_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>reinstall the old process limit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.proc.ResourceController.setup_limit">
<span class="sig-name descname"><span class="pre">setup_limit</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#ResourceController.setup_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ResourceController.setup_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>set up the process limit</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.proc.ResourceError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">ResourceError</span></span><a class="reference internal" href="_modules/logilab/common/proc.html#ResourceError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.ResourceError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Error raise when resource limit is reached</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.proc.ResourceError.limit">
<span class="sig-name descname"><span class="pre">limit</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Unknown</span> <span class="pre">Resource</span> <span class="pre">Limit'</span></em><a class="headerlink" href="#logilab.common.proc.ResourceError.limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.proc.TimeoutError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">TimeoutError</span></span><a class="reference internal" href="_modules/logilab/common/proc.html#TimeoutError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.TimeoutError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.proc.ResourceError" title="logilab.common.proc.ResourceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.proc.ResourceError</span></code></a></p>
<p>Error raised when the process is running for to much time</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.proc.TimeoutError.limit">
<span class="sig-name descname"><span class="pre">limit</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Real</span> <span class="pre">Time'</span></em><a class="headerlink" href="#logilab.common.proc.TimeoutError.limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.proc.XCPUError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">XCPUError</span></span><a class="reference internal" href="_modules/logilab/common/proc.html#XCPUError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.XCPUError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.proc.ResourceError" title="logilab.common.proc.ResourceError"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.proc.ResourceError</span></code></a></p>
<p>Error raised when CPU Time limit is reached</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.proc.XCPUError.limit">
<span class="sig-name descname"><span class="pre">limit</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'CPU</span> <span class="pre">Time'</span></em><a class="headerlink" href="#logilab.common.proc.XCPUError.limit" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.proc.proc_exists">
<span class="sig-prename descclassname"><span class="pre">logilab.common.proc.</span></span><span class="sig-name descname"><span class="pre">proc_exists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pid</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/proc.html#proc_exists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.proc.proc_exists" title="Permalink to this definition">¶</a></dt>
<dd><p>check the a pid is registered in /proc
raise NoSuchProcess exception if not</p>
</dd></dl>

</section>
<section id="module-logilab.common.pytest">
<span id="logilab-common-pytest-module"></span><span id="pytest"></span><h2>logilab.common.pytest module<a class="headerlink" href="#module-logilab.common.pytest" title="Permalink to this headline">¶</a></h2>
<p>logilab-pytest is a tool that eases test running and debugging.</p>
<p>To be able to use logilab-pytest, you should either write tests using
the logilab.common.testlib’s framework or the unittest module of the
Python’s standard library.</p>
<p>You can customize logilab-pytest’s behaviour by defining a <code class="docutils literal notranslate"><span class="pre">pytestconf.py</span></code>
file somewhere in your test directory. In this file, you can add options or
change the way tests are run.</p>
<p>To add command line options, you must define a <code class="docutils literal notranslate"><span class="pre">update_parser</span></code> function in
your <code class="docutils literal notranslate"><span class="pre">pytestconf.py</span></code> file. The function must accept a single parameter
that will be the OptionParser’s instance to customize.</p>
<p>If you wish to customize the tester, you’ll have to define a class named
<code class="docutils literal notranslate"><span class="pre">CustomPyTester</span></code>. This class should extend the default <cite>PyTester</cite> class
defined in the logilab.common.pytest module. Take a look at the <cite>PyTester</cite> and
<cite>DjangoTester</cite> classes for more information about what can be done.</p>
<p>For instance, if you wish to add a custom -l option to specify a loglevel, you
could define the following <code class="docutils literal notranslate"><span class="pre">pytestconf.py</span></code> file</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">logging</span>
<span class="kn">from</span> <span class="nn">logilab.common.pytest</span> <span class="kn">import</span> <span class="n">PyTester</span>

<span class="k">def</span> <span class="nf">update_parser</span><span class="p">(</span><span class="n">parser</span><span class="p">):</span>
    <span class="n">parser</span><span class="o">.</span><span class="n">add_option</span><span class="p">(</span><span class="s1">&#39;-l&#39;</span><span class="p">,</span> <span class="s1">&#39;--loglevel&#39;</span><span class="p">,</span> <span class="n">dest</span><span class="o">=</span><span class="s1">&#39;loglevel&#39;</span><span class="p">,</span> <span class="n">action</span><span class="o">=</span><span class="s1">&#39;store&#39;</span><span class="p">,</span>
                      <span class="n">choices</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;debug&#39;</span><span class="p">,</span> <span class="s1">&#39;info&#39;</span><span class="p">,</span> <span class="s1">&#39;warning&#39;</span><span class="p">,</span> <span class="s1">&#39;error&#39;</span><span class="p">,</span> <span class="s1">&#39;critical&#39;</span><span class="p">),</span>
                      <span class="n">default</span><span class="o">=</span><span class="s1">&#39;critical&#39;</span><span class="p">,</span> <span class="n">help</span><span class="o">=</span><span class="s2">&quot;the default log level possible choices are &quot;</span>
                      <span class="s2">&quot;(&#39;debug&#39;, &#39;info&#39;, &#39;warning&#39;, &#39;error&#39;, &#39;critical&#39;)&quot;</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">parser</span>


<span class="k">class</span> <span class="nc">CustomPyTester</span><span class="p">(</span><span class="n">PyTester</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">cvg</span><span class="p">,</span> <span class="n">options</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">CustomPyTester</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">cvg</span><span class="p">,</span> <span class="n">options</span><span class="p">)</span>
        <span class="n">loglevel</span> <span class="o">=</span> <span class="n">options</span><span class="o">.</span><span class="n">loglevel</span><span class="o">.</span><span class="n">upper</span><span class="p">()</span>
        <span class="n">logger</span> <span class="o">=</span> <span class="n">logging</span><span class="o">.</span><span class="n">getLogger</span><span class="p">(</span><span class="s1">&#39;erudi&#39;</span><span class="p">)</span>
        <span class="n">logger</span><span class="o">.</span><span class="n">setLevel</span><span class="p">(</span><span class="n">logging</span><span class="o">.</span><span class="n">getLevelName</span><span class="p">(</span><span class="n">loglevel</span><span class="p">))</span>
</pre></div>
</div>
<p>In your TestCase class you can then get the value of a specific option with
the <code class="docutils literal notranslate"><span class="pre">optval</span></code> method:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">MyTestCase</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_foo</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="n">loglevel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">optval</span><span class="p">(</span><span class="s1">&#39;loglevel&#39;</span><span class="p">)</span>
        <span class="c1"># ...</span>
</pre></div>
</div>
<p>You can also tag your tag your test for fine filtering</p>
<p>With those tag:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">logilab.common.testlib</span> <span class="kn">import</span> <span class="n">tag</span><span class="p">,</span> <span class="n">TestCase</span>

<span class="k">class</span> <span class="nc">Exemple</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s1">&#39;rouge&#39;</span><span class="p">,</span> <span class="s1">&#39;carre&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">toto</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s1">&#39;carre&#39;</span><span class="p">,</span> <span class="s1">&#39;vert&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">tata</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="nd">@tag</span><span class="p">(</span><span class="s1">&#39;rouge&#39;</span><span class="p">)</span>
    <span class="k">def</span> <span class="nf">titi</span><span class="p">(</span><span class="n">test</span><span class="p">):</span>
        <span class="k">pass</span>
</pre></div>
</div>
<p>you can filter the function with a simple python expression</p>
<blockquote>
<div><ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">toto</span></code> and <code class="docutils literal notranslate"><span class="pre">titi</span></code> match <code class="docutils literal notranslate"><span class="pre">rouge</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">toto</span></code>, <code class="docutils literal notranslate"><span class="pre">tata</span></code> and <code class="docutils literal notranslate"><span class="pre">titi</span></code>, match <code class="docutils literal notranslate"><span class="pre">rouge</span> <span class="pre">or</span> <span class="pre">carre</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">tata</span></code> and <code class="docutils literal notranslate"><span class="pre">titi</span></code> match``rouge ^ carre``</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">titi</span></code> match <code class="docutils literal notranslate"><span class="pre">rouge</span> <span class="pre">and</span> <span class="pre">not</span> <span class="pre">carre</span></code></p></li>
</ul>
</div></blockquote>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">DjangoTester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cvg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.pytest.PyTester" title="logilab.common.pytest.PyTester"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.pytest.PyTester</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester.after_testfile">
<span class="sig-name descname"><span class="pre">after_testfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester.after_testfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester.after_testfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester.before_testfile">
<span class="sig-name descname"><span class="pre">before_testfile</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester.before_testfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester.before_testfile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester.load_django_settings">
<span class="sig-name descname"><span class="pre">load_django_settings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirname</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester.load_django_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester.load_django_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>try to find project’s setting and load it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester.testall">
<span class="sig-name descname"><span class="pre">testall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exitfirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester.testall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester.testall" title="Permalink to this definition">¶</a></dt>
<dd><p>walks through current working directory, finds something
which can be considered as a testdir and runs every test there</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester.testfile">
<span class="sig-name descname"><span class="pre">testfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester.testfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester.testfile" title="Permalink to this definition">¶</a></dt>
<dd><p>runs every test in <cite>filename</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – an absolute path pointing to a unittest file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.DjangoTester.testonedir">
<span class="sig-name descname"><span class="pre">testonedir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exitfirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#DjangoTester.testonedir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.DjangoTester.testonedir" title="Permalink to this definition">¶</a></dt>
<dd><p>finds each testfile in the <cite>testdir</cite> and runs it</p>
<p>return true when all tests has been executed, false if exitfirst and
some test has failed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.GlobalTestReport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">GlobalTestReport</span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#GlobalTestReport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.GlobalTestReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>this class holds global test statistics</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.GlobalTestReport.failed_to_test_module">
<span class="sig-name descname"><span class="pre">failed_to_test_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#GlobalTestReport.failed_to_test_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.GlobalTestReport.failed_to_test_module" title="Permalink to this definition">¶</a></dt>
<dd><p>called when the test module could not be imported by unittest</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.GlobalTestReport.feed">
<span class="sig-name descname"><span class="pre">feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testresult</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ttime</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ctime</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#GlobalTestReport.feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.GlobalTestReport.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>integrates new test information into internal statistics</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.GlobalTestReport.skip_module">
<span class="sig-name descname"><span class="pre">skip_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#GlobalTestReport.skip_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.GlobalTestReport.skip_module" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.NonStrictTestLoader">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">NonStrictTestLoader</span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#NonStrictTestLoader"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.NonStrictTestLoader" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.loader.TestLoader</span></code></p>
<p>Overrides default testloader to be able to omit classname when
specifying tests to run on command line.</p>
<p>For example, if the file test_foo.py contains</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">FooTC</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_foo1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># ...</span>
    <span class="k">def</span> <span class="nf">test_foo2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># ...</span>
    <span class="k">def</span> <span class="nf">test_bar1</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># ...</span>

<span class="k">class</span> <span class="nc">BarTC</span><span class="p">(</span><span class="n">TestCase</span><span class="p">):</span>
    <span class="k">def</span> <span class="nf">test_bar2</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span> <span class="c1"># ...</span>
</pre></div>
</div>
<p>‘python test_foo.py’ will run the 3 tests in FooTC
‘python test_foo.py FooTC’ will run the 3 tests in FooTC
‘python test_foo.py test_foo’ will run test_foo1 and test_foo2
‘python test_foo.py test_foo1’ will run test_foo1
‘python test_foo.py test_bar’ will run FooTC.test_bar1 and BarTC.test_bar2</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.NonStrictTestLoader.getTestCaseNames">
<span class="sig-name descname"><span class="pre">getTestCaseNames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testCaseClass</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">type</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#NonStrictTestLoader.getTestCaseNames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.NonStrictTestLoader.getTestCaseNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a sorted sequence of method names found within testCaseClass</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.NonStrictTestLoader.loadTestsFromName">
<span class="sig-name descname"><span class="pre">loadTestsFromName</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#NonStrictTestLoader.loadTestsFromName"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.NonStrictTestLoader.loadTestsFromName" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suite of all test cases given a string specifier.</p>
<p>The name may resolve either to a module, a test case class, a
test method within a test case class, or a callable object which
returns a TestCase or TestSuite instance.</p>
<p>The method optionally resolves the names relative to a given module.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.NonStrictTestLoader.loadTestsFromNames">
<span class="sig-name descname"><span class="pre">loadTestsFromNames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">type</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">unittest.suite.TestSuite</span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#NonStrictTestLoader.loadTestsFromNames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.NonStrictTestLoader.loadTestsFromNames" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suite of all test cases found using the given sequence
of string specifiers. See ‘loadTestsFromName()’.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.NonStrictTestLoader.loadTestsFromSuite">
<span class="sig-name descname"><span class="pre">loadTestsFromSuite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suitename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#NonStrictTestLoader.loadTestsFromSuite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.NonStrictTestLoader.loadTestsFromSuite" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">PyTester</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cvg</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>encapsulates testrun logic</p>
<dl class="py property">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.errcode">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">errcode</span></span><a class="headerlink" href="#logilab.common.pytest.PyTester.errcode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.get_errcode">
<span class="sig-name descname"><span class="pre">get_errcode</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester.get_errcode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester.get_errcode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.set_errcode">
<span class="sig-name descname"><span class="pre">set_errcode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">errcode</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester.set_errcode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester.set_errcode" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.show_report">
<span class="sig-name descname"><span class="pre">show_report</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester.show_report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester.show_report" title="Permalink to this definition">¶</a></dt>
<dd><p>prints the report and returns appropriate exitcode</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.testall">
<span class="sig-name descname"><span class="pre">testall</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exitfirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester.testall"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester.testall" title="Permalink to this definition">¶</a></dt>
<dd><p>walks through current working directory, finds something
which can be considered as a testdir and runs every test there</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.testfile">
<span class="sig-name descname"><span class="pre">testfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchmode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester.testfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester.testfile" title="Permalink to this definition">¶</a></dt>
<dd><p>runs every test in <cite>filename</cite></p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>filename</strong> – an absolute path pointing to a unittest file</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.PyTester.testonedir">
<span class="sig-name descname"><span class="pre">testonedir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exitfirst</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#PyTester.testonedir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.PyTester.testonedir" title="Permalink to this definition">¶</a></dt>
<dd><p>finds each testfile in the <cite>testdir</cite> and runs it</p>
<p>return true when all tests has been executed, false if exitfirst and
some test has failed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestProgram">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">SkipAwareTestProgram</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module='__main__'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">defaultTest=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchmode=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvg=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">outstream=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stderr&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestProgram"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestProgram" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.main.TestProgram</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestProgram.USAGE">
<span class="sig-name descname"><span class="pre">USAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;Usage:</span> <span class="pre">%(progName)s</span> <span class="pre">[options]</span> <span class="pre">[test]</span> <span class="pre">[...]\n\nOptions:\n</span>&#160; <span class="pre">-h,</span> <span class="pre">--help</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Show</span> <span class="pre">this</span> <span class="pre">message\n</span>&#160; <span class="pre">-v,</span> <span class="pre">--verbose</span>&#160;&#160;&#160; <span class="pre">Verbose</span> <span class="pre">output\n</span>&#160; <span class="pre">-i,</span> <span class="pre">--pdb</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">Enable</span> <span class="pre">test</span> <span class="pre">failure</span> <span class="pre">inspection\n</span>&#160; <span class="pre">-x,</span> <span class="pre">--exitfirst</span>&#160; <span class="pre">Exit</span> <span class="pre">on</span> <span class="pre">first</span> <span class="pre">failure\n</span>&#160; <span class="pre">-s,</span> <span class="pre">--skip</span>&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">skip</span> <span class="pre">test</span> <span class="pre">matching</span> <span class="pre">this</span> <span class="pre">pattern</span> <span class="pre">(no</span> <span class="pre">regexp</span> <span class="pre">for</span> <span class="pre">now)\n</span>&#160; <span class="pre">-q,</span> <span class="pre">--quiet</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">Minimal</span> <span class="pre">output\n</span>&#160; <span class="pre">--color</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">colorize</span> <span class="pre">tracebacks\n\n</span>&#160; <span class="pre">-m,</span> <span class="pre">--match</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">Run</span> <span class="pre">only</span> <span class="pre">test</span> <span class="pre">whose</span> <span class="pre">tag</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">pattern\n\n</span>&#160; <span class="pre">-P,</span> <span class="pre">--profile</span>&#160;&#160;&#160; <span class="pre">FILE:</span> <span class="pre">Run</span> <span class="pre">the</span> <span class="pre">tests</span> <span class="pre">using</span> <span class="pre">cProfile</span> <span class="pre">and</span> <span class="pre">saving</span> <span class="pre">results\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">in</span> <span class="pre">FILE\n\nExamples:\n</span>&#160; <span class="pre">%(progName)s</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">-</span> <span class="pre">run</span> <span class="pre">default</span> <span class="pre">set</span> <span class="pre">of</span> <span class="pre">tests\n</span>&#160; <span class="pre">%(progName)s</span> <span class="pre">MyTestSuite</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">-</span> <span class="pre">run</span> <span class="pre">suite</span> <span class="pre">'MyTestSuite'\n</span>&#160; <span class="pre">%(progName)s</span> <span class="pre">MyTestCase.testSomething</span>&#160;&#160;&#160;&#160;&#160; <span class="pre">-</span> <span class="pre">run</span> <span class="pre">MyTestCase.testSomething\n</span>&#160; <span class="pre">%(progName)s</span> <span class="pre">MyTestCase</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">-</span> <span class="pre">run</span> <span class="pre">all</span> <span class="pre">'test*'</span> <span class="pre">test</span> <span class="pre">methods\n</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">in</span> <span class="pre">MyTestCase\n&quot;</span></em><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestProgram.USAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestProgram.parseArgs">
<span class="sig-name descname"><span class="pre">parseArgs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">argv</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestProgram.parseArgs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestProgram.parseArgs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestProgram.runTests">
<span class="sig-name descname"><span class="pre">runTests</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestProgram.runTests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestProgram.runTests" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">SkipAwareTestResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">unittest.runner._WritelnDecorator</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">descriptions</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exitfirst</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdbmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorize</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.runner.TextTestResult</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.addError">
<span class="sig-name descname"><span class="pre">addError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.addError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.addError" title="Permalink to this definition">¶</a></dt>
<dd><p>err -&gt;  (exc_type, exc, tcbk)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.addFailure">
<span class="sig-name descname"><span class="pre">addFailure</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">err</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.addFailure"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.addFailure" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when an error has occurred. ‘err’ is a tuple of values as
returned by sys.exc_info().</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.addSkip">
<span class="sig-name descname"><span class="pre">addSkip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reason</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.addSkip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.addSkip" title="Permalink to this definition">¶</a></dt>
<dd><p>Called when a test is skipped.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.descrs_for">
<span class="sig-name descname"><span class="pre">descrs_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flavour</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.descrs_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.descrs_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.printErrorList">
<span class="sig-name descname"><span class="pre">printErrorList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">flavour</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">errors</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.printErrorList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.printErrorList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.printErrors">
<span class="sig-name descname"><span class="pre">printErrors</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.printErrors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.printErrors" title="Permalink to this definition">¶</a></dt>
<dd><p>Called by TestRunner after test run</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTestResult.printSkippedList">
<span class="sig-name descname"><span class="pre">printSkippedList</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTestResult.printSkippedList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTestResult.printSkippedList" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTextTestRunner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">SkipAwareTextTestRunner</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stderr&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity=1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exitfirst=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pdbmode=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cvg=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_pattern=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">skipped_patterns=()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">colorize=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batchmode=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTextTestRunner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTextTestRunner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.runner.TextTestRunner</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTextTestRunner.does_match_tags">
<span class="sig-name descname"><span class="pre">does_match_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTextTestRunner.does_match_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTextTestRunner.does_match_tags" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.pytest.SkipAwareTextTestRunner.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">test</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#SkipAwareTextTestRunner.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.SkipAwareTextTestRunner.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the given test case or test suite.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.call">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">call</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">result</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#logilab.common.pytest.SkipAwareTestResult" title="logilab.common.pytest.SkipAwareTestResult"><span class="pre">logilab.common.pytest.SkipAwareTestResult</span></a><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">runcondition</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#call"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.call" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.defaultTestResult">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">defaultTestResult</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">self</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#defaultTestResult"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.defaultTestResult" title="Permalink to this definition">¶</a></dt>
<dd><p>return a new instance of the defaultTestResult</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.enable_dbc">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">enable_dbc</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#enable_dbc"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.enable_dbc" title="Permalink to this definition">¶</a></dt>
<dd><p>Without arguments, return True if contracts can be enabled and should be
enabled (see option -d), return False otherwise.</p>
<p>With arguments, return False if contracts can’t or shouldn’t be enabled,
otherwise weave ContractAspect with items passed as arguments.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.load_pytest_conf">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">load_pytest_conf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#load_pytest_conf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.load_pytest_conf" title="Permalink to this definition">¶</a></dt>
<dd><p>loads a <code class="docutils literal notranslate"><span class="pre">pytestconf.py</span></code> file and update default parser
and / or tester.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.make_parser">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">make_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#make_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.make_parser" title="Permalink to this definition">¶</a></dt>
<dd><p>creates the OptionParser instance</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.parseargs">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">parseargs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#parseargs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.parseargs" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the command line and return (options processed), (options to pass to
unittest_main()), (explicitfile or None).</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.project_root">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">project_root</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">projdir</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#project_root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.project_root" title="Permalink to this definition">¶</a></dt>
<dd><p>try to find project’s root and add it to sys.path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.remove_local_modules_from_sys">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">remove_local_modules_from_sys</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/pytest.html#remove_local_modules_from_sys"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.remove_local_modules_from_sys" title="Permalink to this definition">¶</a></dt>
<dd><p>remove all modules from cache that come from <cite>testdir</cite></p>
<p>This is used to avoid strange side-effects when using the
testall() mode of pytest.
For instance, if we run pytest on this tree:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">A</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">test_utils</span><span class="o">.</span><span class="n">py</span>
<span class="n">B</span><span class="o">/</span><span class="n">test</span><span class="o">/</span><span class="n">test_utils</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>we <strong>have</strong> to clean sys.modules to make sure the correct test_utils
module is ran in B</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.this_is_a_testdir">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">this_is_a_testdir</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dirpath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">re.Match</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#this_is_a_testdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.this_is_a_testdir" title="Permalink to this definition">¶</a></dt>
<dd><p>returns True if <cite>filename</cite> seems to be a test directory</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.pytest.this_is_a_testfile">
<span class="sig-prename descclassname"><span class="pre">logilab.common.pytest.</span></span><span class="sig-name descname"><span class="pre">this_is_a_testfile</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">re.Match</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/pytest.html#this_is_a_testfile"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.pytest.this_is_a_testfile" title="Permalink to this definition">¶</a></dt>
<dd><p>returns True if <cite>filename</cite> seems to be a test file</p>
</dd></dl>

</section>
<section id="module-logilab.common.registry">
<span id="logilab-common-registry-module"></span><span id="registry"></span><h2>logilab.common.registry module<a class="headerlink" href="#module-logilab.common.registry" title="Permalink to this headline">¶</a></h2>
<p>This module provides bases for predicates dispatching (the pattern in use
here is similar to what’s refered as multi-dispatch or predicate-dispatch in the
literature, though a bit different since the idea is to select across different
implementation ‘e.g. classes), not to dispatch a message to a function or
method. It contains the following classes:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id21" title="logilab.common.registry.RegistryStore"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistryStore</span></code></a>, the top level object which loads implementation
objects and stores them into registries. You’ll usually use it to access
registries and their contained objects;</p></li>
<li><p><a class="reference internal" href="#id6" title="logilab.common.registry.Registry"><code class="xref py py-class docutils literal notranslate"><span class="pre">Registry</span></code></a>, the base class which contains objects semantically grouped
(for instance, sharing a same API, hence the ‘implementation’ name). You’ll
use it to select the proper implementation according to a context. Notice you
may use registries on their own without using the store.</p></li>
</ul>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>implementation objects are usually designed to be accessed through the
registry and not by direct instantiation, besides to use it as base classe.</p>
</div>
<p>The selection procedure is delegated to a selector, which is responsible for
scoring the object according to some context. At the end of the selection, if an
implementation has been found, an instance of this class is returned. A selector
is built from one or more predicates combined together using AND, OR, NOT
operators (actually <cite>&amp;</cite>, <cite>|</cite> and <cite>~</cite>). You’ll thus find some base classes to
build predicates:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">Predicate</span></code></a>, the abstract base predicate class</p></li>
<li><p><a class="reference internal" href="#id0" title="logilab.common.registry.AndPredicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">AndPredicate</span></code></a>, <a class="reference internal" href="#id4" title="logilab.common.registry.OrPredicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">OrPredicate</span></code></a>, <a class="reference internal" href="#id2" title="logilab.common.registry.NotPredicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotPredicate</span></code></a>, which you
shouldn’t have to use directly. You’ll use <cite>&amp;</cite>, <cite>|</cite> and ‘~’ operators between
predicates directly</p></li>
<li><p><a class="reference internal" href="#id32" title="logilab.common.registry.objectify_predicate"><code class="xref py py-func docutils literal notranslate"><span class="pre">objectify_predicate()</span></code></a></p></li>
</ul>
<p>You’ll eventually find one concrete predicate: <a class="reference internal" href="#id34" title="logilab.common.registry.yes"><code class="xref py py-class docutils literal notranslate"><span class="pre">yes</span></code></a></p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistryStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debugmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore" title="Permalink to this definition">¶</a></dt>
<dd><p>This class is responsible for loading objects and storing them
in their registry which is created on the fly as needed.</p>
<p>It handles dynamic registration of objects and provides a
convenient api to access them. To be recognized as an object that
should be stored into one of the store’s registry
(<a class="reference internal" href="#id6" title="logilab.common.registry.Registry"><code class="xref py py-class docutils literal notranslate"><span class="pre">Registry</span></code></a>), an object must provide the following
attributes, used control how they interact with the registry:</p>
<dl class="simple">
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__registries__</span></code></dt><dd><p>list of registry names (string like ‘views’, ‘templates’…) into which
the object should be registered</p>
</dd>
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__regid__</span></code></dt><dd><p>object identifier in the registry (string like ‘main’,
‘primary’, ‘folder_box’)</p>
</dd>
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__select__</span></code></dt><dd><p>the object predicate selectors</p>
</dd>
</dl>
<p>Moreover, the <code class="xref py py-attr docutils literal notranslate"><span class="pre">__abstract__</span></code> attribute may be set to <cite>True</cite>
to indicate that an object is abstract and should not be registered
(such inherited attributes not considered).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the store to load objects dynamically, you <em>always</em> have
to use <strong>super()</strong> to get the methods and attributes of the
superclasses, and not use the class identifier. If not, you’ll get into
trouble at reload time.</p>
<p>For example, instead of writing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Thing</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="n">__regid__</span> <span class="o">=</span> <span class="s1">&#39;athing&#39;</span>
    <span class="n">__select__</span> <span class="o">=</span> <span class="n">yes</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">):</span>
        <span class="n">Parent</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">)</span>
</pre></div>
</div>
<p>You must write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Thing</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="n">__regid__</span> <span class="o">=</span> <span class="s1">&#39;athing&#39;</span>
    <span class="n">__select__</span> <span class="o">=</span> <span class="n">yes</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Thing</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">arg1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Dynamic loading is triggered by calling the <a class="reference internal" href="#id30" title="logilab.common.registry.RegistryStore.register_modnames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_modnames()</span></code></a>
method, given a list of modules names to inspect.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.register_modnames">
<span class="sig-name descname"><span class="pre">register_modnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_modnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.register_modnames" title="Permalink to this definition">¶</a></dt>
<dd><p>register all objects found in &lt;modnames&gt;</p>
</dd></dl>

<p>For each module, by default, all compatible objects are registered
automatically. However if some objects come as replacement of
other objects, or have to be included only if some condition is
met, you’ll have to define a <cite>registration_callback(vreg)</cite>
function in the module and explicitly register <strong>all objects</strong> in
this module, using the api defined below.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.register_all">
<span class="sig-name descname"><span class="pre">register_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">butclasses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.register_all" title="Permalink to this definition">¶</a></dt>
<dd><p>register registrable objects into <cite>objects</cite>.</p>
<p>Registrable objects are properly configured subclasses of
<a class="reference internal" href="#logilab.common.registry.RegistrableObject" title="logilab.common.registry.RegistrableObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrableObject</span></code></a>.  Objects which are not defined in the module
<cite>modname</cite> or which are in <cite>butclasses</cite> won’t be registered.</p>
<p>Typical usage is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">store</span><span class="o">.</span><span class="n">register_all</span><span class="p">(</span><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="vm">__name__</span><span class="p">,</span> <span class="p">(</span><span class="n">ClassIWantToRegisterExplicitly</span><span class="p">,))</span>
</pre></div>
</div>
<p>So you get partially automatic registration, keeping manual registration
for some object (to use
<a class="reference internal" href="#id29" title="logilab.common.registry.RegistryStore.register_and_replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_and_replace()</span></code></a> for
instance).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.register_and_replace">
<span class="sig-name descname"><span class="pre">register_and_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaced</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_and_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.register_and_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>register <cite>obj</cite> object into <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified. If found, the <cite>replaced</cite> object
will be unregistered first (else a warning will be issued as it is
generally unexpected).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.register" title="Permalink to this definition">¶</a></dt>
<dd><p>register <cite>obj</cite> implementation into <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified, with identifier <cite>oid</cite> or
<cite>obj.__regid__</cite> if not specified.</p>
<p>If <cite>clear</cite> is true, all objects with the same identifier will be
previously unregistered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.unregister">
<span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>unregister <cite>obj</cite> object from the registry <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once the function <cite>registration_callback(vreg)</cite> is implemented in a
module, all the objects from this module have to be explicitly
registered as it disables the automatic object registration.</p>
</div>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">registration_callback</span><span class="p">(</span><span class="n">store</span><span class="p">):</span>
   <span class="c1"># register everything in the module except BabarClass</span>
   <span class="n">store</span><span class="o">.</span><span class="n">register_all</span><span class="p">(</span><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="vm">__name__</span><span class="p">,</span> <span class="p">(</span><span class="n">BabarClass</span><span class="p">,))</span>

   <span class="c1"># conditionally register BabarClass</span>
   <span class="k">if</span> <span class="s1">&#39;babar_relation&#39;</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
       <span class="n">store</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">BabarClass</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, we register all application object classes defined in the module
except <cite>BabarClass</cite>. This class is then registered only if the ‘babar_relation’
relation type is defined in the instance schema.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">registration_callback</span><span class="p">(</span><span class="n">store</span><span class="p">):</span>
   <span class="n">store</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Elephant</span><span class="p">)</span>
   <span class="c1"># replace Babar by Celeste</span>
   <span class="n">store</span><span class="o">.</span><span class="n">register_and_replace</span><span class="p">(</span><span class="n">Celeste</span><span class="p">,</span> <span class="n">Babar</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, we explicitly register classes one by one:</p>
<ul class="simple">
<li><p>the <cite>Elephant</cite> class</p></li>
<li><p>the <cite>Celeste</cite> to replace <cite>Babar</cite></p></li>
</ul>
<p>If at some point we register a new appobject class in this module, it won’t be
registered at all without modification to the <cite>registration_callback</cite>
implementation. The first example will register it though, thanks to the call
to the <cite>register_all</cite> method.</p>
<p>The <cite>REGISTRY_FACTORY</cite> class dictionary allows to specify which class should
be instantiated for a given registry name. The class associated to <cite>None</cite>
key will be the class used when there is no specific class for a name.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.Registry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">Registry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debugmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry" title="Permalink to this definition">¶</a></dt>
<dd><p>The registry store a set of implementations associated to identifier:</p>
<ul class="simple">
<li><p>to each identifier are associated a list of implementations</p></li>
<li><p>to select an implementation of a given identifier, you should use one of the
<a class="reference internal" href="#id16" title="logilab.common.registry.Registry.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select()</span></code></a> or <a class="reference internal" href="#id17" title="logilab.common.registry.Registry.select_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_or_none()</span></code></a> method</p></li>
<li><p>to select a list of implementations for a context, you should use the
<a class="reference internal" href="#id14" title="logilab.common.registry.Registry.possible_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">possible_objects()</span></code></a> method</p></li>
<li><p>dictionary like access to an identifier will return the bare list of
implementations for this identifier.</p></li>
</ul>
<p>To be usable in a registry, the only requirement is to have a <cite>__select__</cite>
attribute.</p>
<p>At the end of the registration process, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">__registered__()</span></code>
method is called on each registered object which have them, given the
registry in which it’s registered as argument.</p>
<p>Registration methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.register" title="Permalink to this definition">¶</a></dt>
<dd><p>base method to add an object in the registry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.unregister">
<span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>remove object &lt;obj&gt; from this registry</p>
</dd></dl>

<p>Selection methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_Registry__oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.select" title="Permalink to this definition">¶</a></dt>
<dd><p>return the most specific object among those with the given oid
according to the given context.</p>
<p>raise <a class="reference internal" href="#id3" title="logilab.common.registry.ObjectNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ObjectNotFound</span></code></a> if there are no object with id <cite>oid</cite> in this
registry</p>
<p>raise <a class="reference internal" href="#id1" title="logilab.common.registry.NoSelectableObject"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NoSelectableObject</span></code></a> if no object can be selected</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.select_or_none">
<span class="sig-name descname"><span class="pre">select_or_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_Registry__oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.select_or_none"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.select_or_none" title="Permalink to this definition">¶</a></dt>
<dd><p>return the most specific object among those with the given oid
according to the given context, or None if no object applies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.possible_objects">
<span class="sig-name descname"><span class="pre">possible_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.possible_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.possible_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator on possible objects in this registry for the given
context</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.object_by_id">
<span class="sig-name descname"><span class="pre">object_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.object_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.object_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>return object with the <cite>oid</cite> identifier. Only one object is expected
to be found.</p>
<p>raise <a class="reference internal" href="#id3" title="logilab.common.registry.ObjectNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ObjectNotFound</span></code></a> if there are no object with id <cite>oid</cite> in this
registry</p>
<p>raise <code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code> if there is more than one object there</p>
</dd></dl>

</dd></dl>

<section id="predicates">
<h3>Predicates<a class="headerlink" href="#predicates" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.Predicate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">Predicate</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Predicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Predicate" title="Permalink to this definition">¶</a></dt>
<dd><p>base class for selector classes providing implementation
for operators <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code> and  <code class="docutils literal notranslate"><span class="pre">~</span></code></p>
<p>This class is only here to give access to binary operators, the selector
logic itself should be implemented in the <code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code> method. Notice it
should usually accept any arbitrary arguments (the context), though that may
vary depending on your usage of the registry.</p>
<p>a selector is called to help choosing the correct object for a
particular context by returning a score (<cite>int</cite>) telling how well
the implementation given as first argument fit to the given context.</p>
<p>0 score means that the class doesn’t apply.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.registry.objectify_predicate">
<span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">objectify_predicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#objectify_predicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.objectify_predicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Most of the time, a simple score function is enough to build a selector.
The <a class="reference internal" href="#id32" title="logilab.common.registry.objectify_predicate"><code class="xref py py-func docutils literal notranslate"><span class="pre">objectify_predicate()</span></code></a> decorator turn it into a proper selector
class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@objectify_predicate</span>
<span class="k">def</span> <span class="nf">one</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">req</span><span class="p">,</span> <span class="n">rset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">1</span>

<span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
    <span class="n">__select__</span> <span class="o">=</span> <span class="n">View</span><span class="o">.</span><span class="n">__select__</span> <span class="o">&amp;</span> <span class="n">one</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.yes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">yes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#yes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.yes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the score given as parameter, with a default score of 0.5 so any
other selector take precedence.</p>
<p>Usually used for objects which can be selected whatever the context, or
also sometimes to add arbitrary points to a score.</p>
<p>Take care, <cite>yes(0)</cite> could be named ‘no’…</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.AndPredicate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">AndPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#AndPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.AndPredicate" title="Permalink to this definition">¶</a></dt>
<dd><p>and-chained selectors</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.OrPredicate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">OrPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#OrPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.OrPredicate" title="Permalink to this definition">¶</a></dt>
<dd><p>or-chained selectors</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.NotPredicate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">NotPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#NotPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.NotPredicate" title="Permalink to this definition">¶</a></dt>
<dd><p>negation selector</p>
</dd></dl>

</section>
<section id="debugging">
<h3>Debugging<a class="headerlink" href="#debugging" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.traced_selection">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">traced_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traced</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#traced_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.traced_selection" title="Permalink to this definition">¶</a></dt>
<dd><p>Typical usage is :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">logilab.common.registry</span> <span class="kn">import</span> <span class="n">traced_selection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">traced_selection</span><span class="p">():</span>
<span class="gp">... </span>    <span class="c1"># some code in which you want to debug selectors</span>
<span class="gp">... </span>    <span class="c1"># for all objects</span>
</pre></div>
</div>
<p>This will yield lines like this in the logs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>selector one_line_rset returned 0 for &lt;class &#39;elephant.Babar&#39;&gt;
</pre></div>
</div>
<p>You can also give to <a class="reference internal" href="#id33" title="logilab.common.registry.traced_selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">traced_selection</span></code></a> the identifiers of objects on
which you want to debug selection (‘oid1’ and ‘oid2’ in the example above).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">traced_selection</span><span class="p">(</span> <span class="p">(</span><span class="s1">&#39;regid1&#39;</span><span class="p">,</span> <span class="s1">&#39;regid2&#39;</span><span class="p">)</span> <span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># some code in which you want to debug selectors</span>
<span class="gp">... </span>    <span class="c1"># for objects with __regid__ &#39;regid1&#39; and &#39;regid2&#39;</span>
</pre></div>
</div>
<p>A potentially useful point to set up such a tracing function is
the <cite>logilab.common.registry.Registry.select</cite> method body.</p>
</dd></dl>

</section>
<section id="exceptions">
<h3>Exceptions<a class="headerlink" href="#exceptions" title="Permalink to this headline">¶</a></h3>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryException">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistryException</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryException" title="Permalink to this definition">¶</a></dt>
<dd><p>Base class for registry exception.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryNotFound">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistryNotFound</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when an unknown registry is requested.</p>
<p>This is usually a programming/typo error.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.ObjectNotFound">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">ObjectNotFound</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#ObjectNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.ObjectNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when an unregistered object is requested.</p>
<p>This may be a programming/typo or a misconfiguration error.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.NoSelectableObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">NoSelectableObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objects</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#NoSelectableObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.NoSelectableObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Raised when no object is selectable for a given context.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id0">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">AndPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#AndPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id0" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.registry.MultiPredicate" title="logilab.common.registry.MultiPredicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.MultiPredicate</span></code></a></p>
<p>and-chained selectors</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.MultiPredicate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">MultiPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#MultiPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.MultiPredicate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.Predicate</span></code></a></p>
<p>base class for compound selector classes</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.MultiPredicate.merge_selectors">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">merge_selectors</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><span class="pre">logilab.common.registry.Predicate</span></a><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><span class="pre">logilab.common.registry.Predicate</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#MultiPredicate.merge_selectors"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.MultiPredicate.merge_selectors" title="Permalink to this definition">¶</a></dt>
<dd><p>deal with selector instanciation when necessary and merge
multi-selectors if possible:</p>
<p>AndPredicate(AndPredicate(sel1, sel2), AndPredicate(sel3, sel4))
==&gt; AndPredicate(sel1, sel2, sel3, sel4)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.MultiPredicate.search_selector">
<span class="sig-name descname"><span class="pre">search_selector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><span class="pre">logilab.common.registry.Predicate</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><span class="pre">logilab.common.registry.Predicate</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#MultiPredicate.search_selector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.MultiPredicate.search_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>search for the given selector or selector instance (or tuple of
selectors) in the selectors tree. Return None if not found</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="id1">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">NoSelectableObject</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">objects</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#NoSelectableObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id1" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="logilab.common.registry.RegistryException"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.RegistryException</span></code></a></p>
<p>Raised when no object is selectable for a given context.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id2">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">NotPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#NotPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id2" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.Predicate</span></code></a></p>
<p>negation selector</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="id3">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">ObjectNotFound</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#ObjectNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id3" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="logilab.common.registry.RegistryException"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.RegistryException</span></code></a></p>
<p>Raised when an unregistered object is requested.</p>
<p>This may be a programming/typo or a misconfiguration error.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id4">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">OrPredicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">selectors</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#OrPredicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id4" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.registry.MultiPredicate" title="logilab.common.registry.MultiPredicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.MultiPredicate</span></code></a></p>
<p>or-chained selectors</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id5">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">Predicate</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Predicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id5" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>base class for selector classes providing implementation
for operators <code class="docutils literal notranslate"><span class="pre">&amp;</span></code>, <code class="docutils literal notranslate"><span class="pre">|</span></code> and  <code class="docutils literal notranslate"><span class="pre">~</span></code></p>
<p>This class is only here to give access to binary operators, the selector
logic itself should be implemented in the <code class="xref py py-meth docutils literal notranslate"><span class="pre">__call__()</span></code> method. Notice it
should usually accept any arbitrary arguments (the context), though that may
vary depending on your usage of the registry.</p>
<p>a selector is called to help choosing the correct object for a
particular context by returning a score (<cite>int</cite>) telling how well
the implementation given as first argument fit to the given context.</p>
<p>0 score means that the class doesn’t apply.</p>
<dl class="py property">
<dt class="sig sig-object py" id="logilab.common.registry.Predicate.func_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">func_name</span></span><a class="headerlink" href="#logilab.common.registry.Predicate.func_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Predicate.search_selector">
<span class="sig-name descname"><span class="pre">search_selector</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><span class="pre">logilab.common.registry.Predicate</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><span class="pre">logilab.common.registry.Predicate</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Predicate.search_selector"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Predicate.search_selector" title="Permalink to this definition">¶</a></dt>
<dd><p>search for the given selector, selector instance or tuple of
selectors in the selectors tree. Return None if not found.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.PredicateMetaClass">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">PredicateMetaClass</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#PredicateMetaClass"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.PredicateMetaClass" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">type</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.RegistrableInstance">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistrableInstance</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistrableInstance"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistrableInstance" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.registry.RegistrableObject" title="logilab.common.registry.RegistrableObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.RegistrableObject</span></code></a></p>
<p>Inherit this class if you want instances of the classes to be
automatically registered.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.RegistrableObject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistrableObject</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistrableObject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistrableObject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>This is the base class for registrable objects which are selected
according to a context.</p>
<dl class="simple">
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__registry__</span></code></dt><dd><p>name of the registry for this object (string like ‘views’,
‘templates’…). You may want to define <cite>__registries__</cite> directly if your
object should be registered in several registries.</p>
</dd>
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__regid__</span></code></dt><dd><p>object’s identifier in the registry (string like ‘main’,
‘primary’, ‘folder_box’)</p>
</dd>
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__select__</span></code></dt><dd><p>class’selector</p>
</dd>
</dl>
<p>Moreover, the <cite>__abstract__</cite> attribute may be set to True to indicate that a
class is abstract and should not be registered.</p>
<p>You don’t have to inherit from this class to put it in a registry (having
<cite>__regid__</cite> and <cite>__select__</cite> is enough), though this is needed for classes
that should be automatically registered.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id6">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">Registry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debugmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id6" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>The registry store a set of implementations associated to identifier:</p>
<ul class="simple">
<li><p>to each identifier are associated a list of implementations</p></li>
<li><p>to select an implementation of a given identifier, you should use one of the
<a class="reference internal" href="#id16" title="logilab.common.registry.Registry.select"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select()</span></code></a> or <a class="reference internal" href="#id17" title="logilab.common.registry.Registry.select_or_none"><code class="xref py py-meth docutils literal notranslate"><span class="pre">select_or_none()</span></code></a> method</p></li>
<li><p>to select a list of implementations for a context, you should use the
<a class="reference internal" href="#id14" title="logilab.common.registry.Registry.possible_objects"><code class="xref py py-meth docutils literal notranslate"><span class="pre">possible_objects()</span></code></a> method</p></li>
<li><p>dictionary like access to an identifier will return the bare list of
implementations for this identifier.</p></li>
</ul>
<p>To be usable in a registry, the only requirement is to have a <cite>__select__</cite>
attribute.</p>
<p>At the end of the registration process, the <code class="xref py py-meth docutils literal notranslate"><span class="pre">__registered__()</span></code>
method is called on each registered object which have them, given the
registry in which it’s registered as argument.</p>
<p>Registration methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="id7">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id7" title="Permalink to this definition">¶</a></dt>
<dd><p>base method to add an object in the registry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id8">
<span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id8" title="Permalink to this definition">¶</a></dt>
<dd><p>remove object &lt;obj&gt; from this registry</p>
</dd></dl>

<p>Selection methods:</p>
<dl class="py method">
<dt class="sig sig-object py" id="id9">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_Registry__oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id9" title="Permalink to this definition">¶</a></dt>
<dd><p>return the most specific object among those with the given oid
according to the given context.</p>
<p>raise <a class="reference internal" href="#id3" title="logilab.common.registry.ObjectNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ObjectNotFound</span></code></a> if there are no object with id <cite>oid</cite> in this
registry</p>
<p>raise <a class="reference internal" href="#id1" title="logilab.common.registry.NoSelectableObject"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NoSelectableObject</span></code></a> if no object can be selected</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id10">
<span class="sig-name descname"><span class="pre">select_or_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_Registry__oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.select_or_none"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id10" title="Permalink to this definition">¶</a></dt>
<dd><p>return the most specific object among those with the given oid
according to the given context, or None if no object applies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id11">
<span class="sig-name descname"><span class="pre">possible_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.possible_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id11" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator on possible objects in this registry for the given
context</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id12">
<span class="sig-name descname"><span class="pre">object_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.object_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id12" title="Permalink to this definition">¶</a></dt>
<dd><p>return object with the <cite>oid</cite> identifier. Only one object is expected
to be found.</p>
<p>raise <a class="reference internal" href="#id3" title="logilab.common.registry.ObjectNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ObjectNotFound</span></code></a> if there are no object with id <cite>oid</cite> in this
registry</p>
<p>raise <code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code> if there is more than one object there</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.add_select_best_listener">
<span class="sig-name descname"><span class="pre">add_select_best_listener</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">listener</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.add_select_best_listener"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.add_select_best_listener" title="Permalink to this definition">¶</a></dt>
<dd><p>Add a listener to the list of one parameters callables (function/method)
that will be called everytime the selection Registry._select_best is
done and they will recieve a dict of the following form:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">{</span><span class="s2">&quot;all_objects&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;end_score&quot;</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span> <span class="s2">&quot;winners&quot;</span><span class="p">:</span> <span class="p">[],</span> <span class="s2">&quot;winner&quot;</span><span class="p">:</span> <span class="kc">None</span> <span class="ow">or</span> <span class="n">winner</span><span class="p">,</span>
<span class="s2">&quot;self&quot;</span><span class="p">:</span> <span class="bp">self</span><span class="p">,</span> <span class="s2">&quot;args&quot;</span><span class="p">:</span> <span class="n">args</span><span class="p">,</span> <span class="s2">&quot;kwargs&quot;</span><span class="p">:</span> <span class="n">kwargs</span><span class="p">,</span> <span class="p">}</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.all_objects">
<span class="sig-name descname"><span class="pre">all_objects</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.all_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.all_objects" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list containing all objects in this registry.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.critical">
<span class="sig-name descname"><span class="pre">critical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.Registry.critical" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘CRITICAL’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.critical(“Houston, we have a %s”, “major disaster”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.Registry.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘DEBUG’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.debug(“Houston, we have a %s”, “thorny problem”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.error">
<span class="sig-name descname"><span class="pre">error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.Registry.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘ERROR’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.error(“Houston, we have a %s”, “major problem”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.exception">
<span class="sig-name descname"><span class="pre">exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.Registry.exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for logging an ERROR with exception information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.Registry.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘INFO’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.info(“Houston, we have a %s”, “interesting problem”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.initialization_completed">
<span class="sig-name descname"><span class="pre">initialization_completed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.initialization_completed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.initialization_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>call method __registered__() on registered objects when the callback
is defined</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id13">
<span class="sig-name descname"><span class="pre">object_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.object_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id13" title="Permalink to this definition">¶</a></dt>
<dd><p>return object with the <cite>oid</cite> identifier. Only one object is expected
to be found.</p>
<p>raise <a class="reference internal" href="#id3" title="logilab.common.registry.ObjectNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ObjectNotFound</span></code></a> if there are no object with id <cite>oid</cite> in this
registry</p>
<p>raise <code class="xref py py-exc docutils literal notranslate"><span class="pre">AssertionError</span></code> if there is more than one object there</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.objid">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">objid</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.objid"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.objid" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a unique identifier for an object stored in the registry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.objname">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">objname</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.objname"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.objname" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a readable name for an object stored in the registry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id14">
<span class="sig-name descname"><span class="pre">possible_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.possible_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id14" title="Permalink to this definition">¶</a></dt>
<dd><p>return an iterator on possible objects in this registry for the given
context</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id15">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id15" title="Permalink to this definition">¶</a></dt>
<dd><p>base method to add an object in the registry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.register_and_replace">
<span class="sig-name descname"><span class="pre">register_and_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaced</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.register_and_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.register_and_replace" title="Permalink to this definition">¶</a></dt>
<dd><p>remove &lt;replaced&gt; and register &lt;obj&gt;</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id16">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_Registry__oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id16" title="Permalink to this definition">¶</a></dt>
<dd><p>return the most specific object among those with the given oid
according to the given context.</p>
<p>raise <a class="reference internal" href="#id3" title="logilab.common.registry.ObjectNotFound"><code class="xref py py-exc docutils literal notranslate"><span class="pre">ObjectNotFound</span></code></a> if there are no object with id <cite>oid</cite> in this
registry</p>
<p>raise <a class="reference internal" href="#id1" title="logilab.common.registry.NoSelectableObject"><code class="xref py py-exc docutils literal notranslate"><span class="pre">NoSelectableObject</span></code></a> if no object can be selected</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id17">
<span class="sig-name descname"><span class="pre">select_or_none</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_Registry__oid</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.select_or_none"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id17" title="Permalink to this definition">¶</a></dt>
<dd><p>return the most specific object among those with the given oid
according to the given context, or None if no object applies.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.selected">
<span class="sig-name descname"><span class="pre">selected</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">winner</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.selected"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.Registry.selected" title="Permalink to this definition">¶</a></dt>
<dd><p>override here if for instance you don’t want “instanciation”</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id18">
<span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#Registry.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id18" title="Permalink to this definition">¶</a></dt>
<dd><p>remove object &lt;obj&gt; from this registry</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.Registry.warning">
<span class="sig-name descname"><span class="pre">warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.Registry.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘WARNING’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.warning(“Houston, we have a %s”, “bit of a problem”, exc_info=1)</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="id19">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistryException</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id19" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>Base class for registry exception.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="id20">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistryNotFound</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id20" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="logilab.common.registry.RegistryException"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.RegistryException</span></code></a></p>
<p>Raised when an unknown registry is requested.</p>
<p>This is usually a programming/typo error.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id21">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">RegistryStore</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debugmode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id21" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>This class is responsible for loading objects and storing them
in their registry which is created on the fly as needed.</p>
<p>It handles dynamic registration of objects and provides a
convenient api to access them. To be recognized as an object that
should be stored into one of the store’s registry
(<a class="reference internal" href="#id6" title="logilab.common.registry.Registry"><code class="xref py py-class docutils literal notranslate"><span class="pre">Registry</span></code></a>), an object must provide the following
attributes, used control how they interact with the registry:</p>
<dl class="simple">
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__registries__</span></code></dt><dd><p>list of registry names (string like ‘views’, ‘templates’…) into which
the object should be registered</p>
</dd>
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__regid__</span></code></dt><dd><p>object identifier in the registry (string like ‘main’,
‘primary’, ‘folder_box’)</p>
</dd>
<dt><code class="xref py py-attr docutils literal notranslate"><span class="pre">__select__</span></code></dt><dd><p>the object predicate selectors</p>
</dd>
</dl>
<p>Moreover, the <code class="xref py py-attr docutils literal notranslate"><span class="pre">__abstract__</span></code> attribute may be set to <cite>True</cite>
to indicate that an object is abstract and should not be registered
(such inherited attributes not considered).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When using the store to load objects dynamically, you <em>always</em> have
to use <strong>super()</strong> to get the methods and attributes of the
superclasses, and not use the class identifier. If not, you’ll get into
trouble at reload time.</p>
<p>For example, instead of writing:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Thing</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="n">__regid__</span> <span class="o">=</span> <span class="s1">&#39;athing&#39;</span>
    <span class="n">__select__</span> <span class="o">=</span> <span class="n">yes</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">):</span>
        <span class="n">Parent</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">)</span>
</pre></div>
</div>
<p>You must write:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Thing</span><span class="p">(</span><span class="n">Parent</span><span class="p">):</span>
    <span class="n">__regid__</span> <span class="o">=</span> <span class="s1">&#39;athing&#39;</span>
    <span class="n">__select__</span> <span class="o">=</span> <span class="n">yes</span><span class="p">()</span>

    <span class="k">def</span> <span class="nf">f</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">arg1</span><span class="p">):</span>
        <span class="nb">super</span><span class="p">(</span><span class="n">Thing</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="n">f</span><span class="p">(</span><span class="n">arg1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<p>Dynamic loading is triggered by calling the <a class="reference internal" href="#id30" title="logilab.common.registry.RegistryStore.register_modnames"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_modnames()</span></code></a>
method, given a list of modules names to inspect.</p>
<dl class="py method">
<dt class="sig sig-object py" id="id22">
<span class="sig-name descname"><span class="pre">register_modnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_modnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id22" title="Permalink to this definition">¶</a></dt>
<dd><p>register all objects found in &lt;modnames&gt;</p>
</dd></dl>

<p>For each module, by default, all compatible objects are registered
automatically. However if some objects come as replacement of
other objects, or have to be included only if some condition is
met, you’ll have to define a <cite>registration_callback(vreg)</cite>
function in the module and explicitly register <strong>all objects</strong> in
this module, using the api defined below.</p>
<dl class="py method">
<dt class="sig sig-object py" id="id23">
<span class="sig-name descname"><span class="pre">register_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">butclasses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id23" title="Permalink to this definition">¶</a></dt>
<dd><p>register registrable objects into <cite>objects</cite>.</p>
<p>Registrable objects are properly configured subclasses of
<a class="reference internal" href="#logilab.common.registry.RegistrableObject" title="logilab.common.registry.RegistrableObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrableObject</span></code></a>.  Objects which are not defined in the module
<cite>modname</cite> or which are in <cite>butclasses</cite> won’t be registered.</p>
<p>Typical usage is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">store</span><span class="o">.</span><span class="n">register_all</span><span class="p">(</span><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="vm">__name__</span><span class="p">,</span> <span class="p">(</span><span class="n">ClassIWantToRegisterExplicitly</span><span class="p">,))</span>
</pre></div>
</div>
<p>So you get partially automatic registration, keeping manual registration
for some object (to use
<a class="reference internal" href="#id29" title="logilab.common.registry.RegistryStore.register_and_replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_and_replace()</span></code></a> for
instance).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id24">
<span class="sig-name descname"><span class="pre">register_and_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaced</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_and_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id24" title="Permalink to this definition">¶</a></dt>
<dd><p>register <cite>obj</cite> object into <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified. If found, the <cite>replaced</cite> object
will be unregistered first (else a warning will be issued as it is
generally unexpected).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id25">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id25" title="Permalink to this definition">¶</a></dt>
<dd><p>register <cite>obj</cite> implementation into <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified, with identifier <cite>oid</cite> or
<cite>obj.__regid__</cite> if not specified.</p>
<p>If <cite>clear</cite> is true, all objects with the same identifier will be
previously unregistered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id26">
<span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id26" title="Permalink to this definition">¶</a></dt>
<dd><p>unregister <cite>obj</cite> object from the registry <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified.</p>
</dd></dl>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Once the function <cite>registration_callback(vreg)</cite> is implemented in a
module, all the objects from this module have to be explicitly
registered as it disables the automatic object registration.</p>
</div>
<p>Examples:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">registration_callback</span><span class="p">(</span><span class="n">store</span><span class="p">):</span>
   <span class="c1"># register everything in the module except BabarClass</span>
   <span class="n">store</span><span class="o">.</span><span class="n">register_all</span><span class="p">(</span><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="vm">__name__</span><span class="p">,</span> <span class="p">(</span><span class="n">BabarClass</span><span class="p">,))</span>

   <span class="c1"># conditionally register BabarClass</span>
   <span class="k">if</span> <span class="s1">&#39;babar_relation&#39;</span> <span class="ow">in</span> <span class="n">store</span><span class="o">.</span><span class="n">schema</span><span class="p">:</span>
       <span class="n">store</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">BabarClass</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, we register all application object classes defined in the module
except <cite>BabarClass</cite>. This class is then registered only if the ‘babar_relation’
relation type is defined in the instance schema.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">registration_callback</span><span class="p">(</span><span class="n">store</span><span class="p">):</span>
   <span class="n">store</span><span class="o">.</span><span class="n">register</span><span class="p">(</span><span class="n">Elephant</span><span class="p">)</span>
   <span class="c1"># replace Babar by Celeste</span>
   <span class="n">store</span><span class="o">.</span><span class="n">register_and_replace</span><span class="p">(</span><span class="n">Celeste</span><span class="p">,</span> <span class="n">Babar</span><span class="p">)</span>
</pre></div>
</div>
<p>In this example, we explicitly register classes one by one:</p>
<ul class="simple">
<li><p>the <cite>Elephant</cite> class</p></li>
<li><p>the <cite>Celeste</cite> to replace <cite>Babar</cite></p></li>
</ul>
<p>If at some point we register a new appobject class in this module, it won’t be
registered at all without modification to the <cite>registration_callback</cite>
implementation. The first example will register it though, thanks to the call
to the <cite>register_all</cite> method.</p>
<p>The <cite>REGISTRY_FACTORY</cite> class dictionary allows to specify which class should
be instantiated for a given registry name. The class associated to <cite>None</cite>
key will be the class used when there is no specific class for a name.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.REGISTRY_FACTORY">
<span class="sig-name descname"><span class="pre">REGISTRY_FACTORY</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">None</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">type</span><span class="p"><span class="pre">]</span></span></em><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{None:</span> <span class="pre">&lt;class</span> <span class="pre">'logilab.common.registry.Registry'&gt;}</span></em><a class="headerlink" href="#logilab.common.registry.RegistryStore.REGISTRY_FACTORY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.critical">
<span class="sig-name descname"><span class="pre">critical</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.RegistryStore.critical" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘CRITICAL’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.critical(“Houston, we have a %s”, “major disaster”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.debug">
<span class="sig-name descname"><span class="pre">debug</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.RegistryStore.debug" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘DEBUG’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.debug(“Houston, we have a %s”, “thorny problem”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.error">
<span class="sig-name descname"><span class="pre">error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.RegistryStore.error" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘ERROR’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.error(“Houston, we have a %s”, “major problem”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.exception">
<span class="sig-name descname"><span class="pre">exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exc_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.RegistryStore.exception" title="Permalink to this definition">¶</a></dt>
<dd><p>Convenience method for logging an ERROR with exception information.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.RegistryStore.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘INFO’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.info(“Houston, we have a %s”, “interesting problem”, exc_info=1)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.init_registration">
<span class="sig-name descname"><span class="pre">init_registration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.init_registration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.init_registration" title="Permalink to this definition">¶</a></dt>
<dd><p>reset registry and walk down path to return list of (path, name)
file modules to be loaded</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.initialization_completed">
<span class="sig-name descname"><span class="pre">initialization_completed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.initialization_completed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.initialization_completed" title="Permalink to this definition">¶</a></dt>
<dd><p>call initialization_completed() on all known registries</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.is_registrable">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_registrable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.is_registrable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.is_registrable" title="Permalink to this definition">¶</a></dt>
<dd><p>ensure <cite>obj</cite> should be registered</p>
<p>as arbitrary stuff may be registered, do a lot of check and warn about
weird cases (think to dumb proxy objects)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.is_reload_needed">
<span class="sig-name descname"><span class="pre">is_reload_needed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.is_reload_needed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.is_reload_needed" title="Permalink to this definition">¶</a></dt>
<dd><p>return True if something module changed and the registry should be
reloaded</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.load_file">
<span class="sig-name descname"><span class="pre">load_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filepath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.load_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.load_file" title="Permalink to this definition">¶</a></dt>
<dd><p>load registrable objects (if any) from a python file</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.load_module">
<span class="sig-name descname"><span class="pre">load_module</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.load_module"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.load_module" title="Permalink to this definition">¶</a></dt>
<dd><p>Automatically handle module objects registration.</p>
<p>Instances are registered as soon as they are hashable and have the
following attributes:</p>
<ul class="simple">
<li><p>__regid__ (a string)</p></li>
<li><p>__select__ (a callable)</p></li>
<li><p>__registries__ (a tuple/list of string)</p></li>
</ul>
<p>For classes this is a bit more complicated :</p>
<ul class="simple">
<li><p>first ensure parent classes are already registered</p></li>
<li><p>class with __abstract__ == True in their local dictionary are skipped</p></li>
<li><p>object class needs to have registries and identifier properly set to a
non empty string to be registered.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id27">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">clear</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id27" title="Permalink to this definition">¶</a></dt>
<dd><p>register <cite>obj</cite> implementation into <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified, with identifier <cite>oid</cite> or
<cite>obj.__regid__</cite> if not specified.</p>
<p>If <cite>clear</cite> is true, all objects with the same identifier will be
previously unregistered.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id28">
<span class="sig-name descname"><span class="pre">register_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">objects</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">butclasses</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Sequence</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id28" title="Permalink to this definition">¶</a></dt>
<dd><p>register registrable objects into <cite>objects</cite>.</p>
<p>Registrable objects are properly configured subclasses of
<a class="reference internal" href="#logilab.common.registry.RegistrableObject" title="logilab.common.registry.RegistrableObject"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrableObject</span></code></a>.  Objects which are not defined in the module
<cite>modname</cite> or which are in <cite>butclasses</cite> won’t be registered.</p>
<p>Typical usage is:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="n">store</span><span class="o">.</span><span class="n">register_all</span><span class="p">(</span><span class="nb">globals</span><span class="p">()</span><span class="o">.</span><span class="n">values</span><span class="p">(),</span> <span class="vm">__name__</span><span class="p">,</span> <span class="p">(</span><span class="n">ClassIWantToRegisterExplicitly</span><span class="p">,))</span>
</pre></div>
</div>
<p>So you get partially automatic registration, keeping manual registration
for some object (to use
<a class="reference internal" href="#id29" title="logilab.common.registry.RegistryStore.register_and_replace"><code class="xref py py-meth docutils literal notranslate"><span class="pre">register_and_replace()</span></code></a> for
instance).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id29">
<span class="sig-name descname"><span class="pre">register_and_replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replaced</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_and_replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id29" title="Permalink to this definition">¶</a></dt>
<dd><p>register <cite>obj</cite> object into <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified. If found, the <cite>replaced</cite> object
will be unregistered first (else a warning will be issued as it is
generally unexpected).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id30">
<span class="sig-name descname"><span class="pre">register_modnames</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modnames</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.register_modnames"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id30" title="Permalink to this definition">¶</a></dt>
<dd><p>register all objects found in &lt;modnames&gt;</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.register_objects">
<span class="sig-name descname"><span class="pre">register_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extrapath</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="headerlink" href="#logilab.common.registry.RegistryStore.register_objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.registry_class">
<span class="sig-name descname"><span class="pre">registry_class</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">type</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.registry_class"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.registry_class" title="Permalink to this definition">¶</a></dt>
<dd><p>return existing registry named regid or use factory to create one and
return it</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.reset">
<span class="sig-name descname"><span class="pre">reset</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.reset"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.reset" title="Permalink to this definition">¶</a></dt>
<dd><p>clear all registries managed by this store</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.setdefault">
<span class="sig-name descname"><span class="pre">setdefault</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">regid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#id6" title="logilab.common.registry.Registry"><span class="pre">logilab.common.registry.Registry</span></a></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.setdefault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.RegistryStore.setdefault" title="Permalink to this definition">¶</a></dt>
<dd><p>Insert key with a value of default if key is not in the dictionary.</p>
<p>Return the value for key if key is in the dictionary, else default.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="id31">
<span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#RegistryStore.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id31" title="Permalink to this definition">¶</a></dt>
<dd><p>unregister <cite>obj</cite> object from the registry <cite>registryname</cite> or
<cite>obj.__registries__</cite> if not specified.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.registry.RegistryStore.warning">
<span class="sig-name descname"><span class="pre">warning</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#logilab.common.registry.RegistryStore.warning" title="Permalink to this definition">¶</a></dt>
<dd><p>Log ‘msg % args’ with severity ‘WARNING’.</p>
<p>To pass exception information, use the keyword argument exc_info with
a true value, e.g.</p>
<p>logger.warning(“Houston, we have a %s”, “bit of a problem”, exc_info=1)</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.registry.SelectAmbiguity">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">SelectAmbiguity</span></span><a class="reference internal" href="_modules/logilab/common/registry.html#SelectAmbiguity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.SelectAmbiguity" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id19" title="logilab.common.registry.RegistryException"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.RegistryException</span></code></a></p>
<p>Raised when several objects compete at selection time with an equal
score.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">SelectBestReport</span></span><a class="headerlink" href="#logilab.common.registry.SelectBestReport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.all_objects">
<span class="sig-name descname"><span class="pre">all_objects</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.all_objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.args">
<span class="sig-name descname"><span class="pre">args</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.args" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.end_score">
<span class="sig-name descname"><span class="pre">end_score</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">int</span></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.end_score" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.kwargs">
<span class="sig-name descname"><span class="pre">kwargs</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Dict</span></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.kwargs" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.registry">
<span class="sig-name descname"><span class="pre">registry</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#id6" title="logilab.common.registry.Registry"><span class="pre">logilab.common.registry.Registry</span></a></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.registry" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.self">
<span class="sig-name descname"><span class="pre">self</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><a class="reference internal" href="#id6" title="logilab.common.registry.Registry"><span class="pre">logilab.common.registry.Registry</span></a></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.self" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.winner">
<span class="sig-name descname"><span class="pre">winner</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.winner" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.registry.SelectBestReport.winners">
<span class="sig-name descname"><span class="pre">winners</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">List</span></em><a class="headerlink" href="#logilab.common.registry.SelectBestReport.winners" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.registry.obj_registries">
<span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">obj_registries</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cls</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">registryname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#obj_registries"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.obj_registries" title="Permalink to this definition">¶</a></dt>
<dd><p>return a tuple of registry names (see __registries__)</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="id32">
<span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">objectify_predicate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">selector_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#objectify_predicate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id32" title="Permalink to this definition">¶</a></dt>
<dd><p>Most of the time, a simple score function is enough to build a selector.
The <a class="reference internal" href="#id32" title="logilab.common.registry.objectify_predicate"><code class="xref py py-func docutils literal notranslate"><span class="pre">objectify_predicate()</span></code></a> decorator turn it into a proper selector
class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@objectify_predicate</span>
<span class="k">def</span> <span class="nf">one</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">req</span><span class="p">,</span> <span class="n">rset</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
    <span class="k">return</span> <span class="mi">1</span>

<span class="k">class</span> <span class="nc">MyView</span><span class="p">(</span><span class="n">View</span><span class="p">):</span>
    <span class="n">__select__</span> <span class="o">=</span> <span class="n">View</span><span class="o">.</span><span class="n">__select__</span> <span class="o">&amp;</span> <span class="n">one</span><span class="p">()</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id33">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">traced_selection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">traced</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'all'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#traced_selection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id33" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Typical usage is :</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">logilab.common.registry</span> <span class="kn">import</span> <span class="n">traced_selection</span>
<span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">traced_selection</span><span class="p">():</span>
<span class="gp">... </span>    <span class="c1"># some code in which you want to debug selectors</span>
<span class="gp">... </span>    <span class="c1"># for all objects</span>
</pre></div>
</div>
<p>This will yield lines like this in the logs:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>selector one_line_rset returned 0 for &lt;class &#39;elephant.Babar&#39;&gt;
</pre></div>
</div>
<p>You can also give to <a class="reference internal" href="#id33" title="logilab.common.registry.traced_selection"><code class="xref py py-class docutils literal notranslate"><span class="pre">traced_selection</span></code></a> the identifiers of objects on
which you want to debug selection (‘oid1’ and ‘oid2’ in the example above).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="k">with</span> <span class="n">traced_selection</span><span class="p">(</span> <span class="p">(</span><span class="s1">&#39;regid1&#39;</span><span class="p">,</span> <span class="s1">&#39;regid2&#39;</span><span class="p">)</span> <span class="p">):</span>
<span class="gp">... </span>    <span class="c1"># some code in which you want to debug selectors</span>
<span class="gp">... </span>    <span class="c1"># for objects with __regid__ &#39;regid1&#39; and &#39;regid2&#39;</span>
</pre></div>
</div>
<p>A potentially useful point to set up such a tracing function is
the <cite>logilab.common.registry.Registry.select</cite> method body.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.registry.wrap_predicates">
<span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">wrap_predicates</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">decorator</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/registry.html#wrap_predicates"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.registry.wrap_predicates" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="id34">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.registry.</span></span><span class="sig-name descname"><span class="pre">yes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">score</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">float</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0.5</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/registry.html#yes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#id34" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#id5" title="logilab.common.registry.Predicate"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.registry.Predicate</span></code></a></p>
<p>Return the score given as parameter, with a default score of 0.5 so any
other selector take precedence.</p>
<p>Usually used for objects which can be selected whatever the context, or
also sometimes to add arbitrary points to a score.</p>
<p>Take care, <cite>yes(0)</cite> could be named ‘no’…</p>
</dd></dl>

</section>
</section>
<section id="module-logilab.common.shellutils">
<span id="logilab-common-shellutils-module"></span><span id="shellutils"></span><h2>logilab.common.shellutils module<a class="headerlink" href="#module-logilab.common.shellutils" title="Permalink to this headline">¶</a></h2>
<p>shell/term utilities, useful to write some python scripts instead of shell
scripts.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.shellutils.DummyProgressBar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">DummyProgressBar</span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#DummyProgressBar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.DummyProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.DummyProgressBar.finish">
<span class="sig-name descname"><span class="pre">finish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#DummyProgressBar.finish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.DummyProgressBar.finish" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.DummyProgressBar.refresh">
<span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#DummyProgressBar.refresh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.DummyProgressBar.refresh" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.shellutils.DummyProgressBar.text">
<span class="sig-name descname"><span class="pre">text</span></span><a class="headerlink" href="#logilab.common.shellutils.DummyProgressBar.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.DummyProgressBar.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#DummyProgressBar.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.DummyProgressBar.update" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.shellutils.ProgressBar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">ProgressBar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbops:</span> <span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size:</span> <span class="pre">int</span> <span class="pre">=</span> <span class="pre">20</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream:</span> <span class="pre">_io.StringIO</span> <span class="pre">=</span> <span class="pre">&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title:</span> <span class="pre">str</span> <span class="pre">=</span> <span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#ProgressBar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.ProgressBar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple text progression bar.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.ProgressBar.finish">
<span class="sig-name descname"><span class="pre">finish</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#ProgressBar.finish"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.ProgressBar.finish" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.ProgressBar.refresh">
<span class="sig-name descname"><span class="pre">refresh</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#ProgressBar.refresh"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.ProgressBar.refresh" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh the progression bar display.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="logilab.common.shellutils.ProgressBar.text">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">text</span></span><a class="headerlink" href="#logilab.common.shellutils.ProgressBar.text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.ProgressBar.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exact</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#ProgressBar.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.ProgressBar.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Move FORWARD to new cursor position (cursor will never go backward).</p>
<dl class="field-list simple">
<dt class="field-odd">Offset</dt>
<dd class="field-odd"><p>fraction of <code class="docutils literal notranslate"><span class="pre">size</span></code></p>
</dd>
<dt class="field-even">Exact</dt>
<dd class="field-even"><ul class="simple">
<li><p>False: offset relative to current cursor position if True</p></li>
<li><p>True: offset as an asbsolute position</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.shellutils.RawInput">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">RawInput</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_function</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">printer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#RawInput"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.RawInput" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.RawInput.ask">
<span class="sig-name descname"><span class="pre">ask</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">options</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#RawInput.ask"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.RawInput.ask" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.shellutils.RawInput.confirm">
<span class="sig-name descname"><span class="pre">confirm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">question</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_is_yes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">bool</span></span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#RawInput.confirm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.RawInput.confirm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.chown">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">chown</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">login</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">group</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#chown"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.chown" title="Permalink to this definition">¶</a></dt>
<dd><p>Same as <cite>os.chown</cite> function but accepting user login or group name as
argument. If login or group is omitted, it’s left unchanged.</p>
<p>Note: you must own the file to chown it (or be root). Otherwise OSError is raised.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.cp">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">cp</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#cp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.cp" title="Permalink to this definition">¶</a></dt>
<dd><p>A shell-like cp, supporting wildcards.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.find">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">find</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="p"><span class="pre">...</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('CVS',</span> <span class="pre">'.svn',</span> <span class="pre">'.hg',</span> <span class="pre">'.git',</span> <span class="pre">'.tox',</span> <span class="pre">'debian',</span> <span class="pre">'dist',</span> <span class="pre">'build')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#find"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.find" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively find files ending with the given extensions from the directory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – directory where the search should start</p></li>
<li><p><strong>exts</strong> (<em>basestring</em><em> or </em><em>list</em><em> or </em><em>tuple</em>) – extensions or lists or extensions to search</p></li>
<li><p><strong>exts</strong> – if this argument is True, returning files NOT ending with the given
extensions</p></li>
<li><p><strong>blacklist</strong> (<em>list</em><em> or </em><em>tuple</em>) – optional list of files or directory to ignore, default to the value of
<cite>logilab.common.STD_BLACKLIST</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>list</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the list of all matching files</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.generate_password">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">generate_password</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">length</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">8</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">vocab</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#generate_password"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.generate_password" title="Permalink to this definition">¶</a></dt>
<dd><p>dumb password generation function</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.getlogin">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">getlogin</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#getlogin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.getlogin" title="Permalink to this definition">¶</a></dt>
<dd><p>avoid using os.getlogin() because of strange tty / stdin problems
(man 3 getlogin)
Another solution would be to use $LOGNAME, $USER or $USERNAME</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.globfind">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">globfind</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pattern</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">blacklist</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">('CVS',</span> <span class="pre">'.svn',</span> <span class="pre">'.hg',</span> <span class="pre">'.git',</span> <span class="pre">'.tox',</span> <span class="pre">'debian',</span> <span class="pre">'dist',</span> <span class="pre">'build')</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#globfind"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.globfind" title="Permalink to this definition">¶</a></dt>
<dd><p>Recursively finds files matching glob <cite>pattern</cite> under <cite>directory</cite>.</p>
<p>This is an alternative to <cite>logilab.common.shellutils.find</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>directory</strong> (<em>str</em>) – directory where the search should start</p></li>
<li><p><strong>pattern</strong> (<em>basestring</em>) – the glob pattern (e.g <em>.py, foo</em>.py, etc.)</p></li>
<li><p><strong>blacklist</strong> (<em>list</em><em> or </em><em>tuple</em>) – optional list of files or directory to ignore, default to the value of
<cite>logilab.common.STD_BLACKLIST</cite></p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>iterator</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>iterator over the list of all matching files</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.mv">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">mv</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_action=&lt;function</span> <span class="pre">move&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#mv"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.mv" title="Permalink to this definition">¶</a></dt>
<dd><p>A shell-like mv, supporting wildcards.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.shellutils.progress">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">progress</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nbops=&lt;object</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">size=&lt;object</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stream=&lt;object</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title=&lt;object</span> <span class="pre">object&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled=True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#progress"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.progress" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.shellutils.pushd">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">pushd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#pushd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.pushd" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.rm">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">rm</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">files</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#rm"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.rm" title="Permalink to this definition">¶</a></dt>
<dd><p>A shell-like rm, supporting wildcards.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.shellutils.tempdir">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">tempdir</span></span><a class="reference internal" href="_modules/logilab/common/shellutils.html#tempdir"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.tempdir" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.shellutils.unzip">
<span class="sig-prename descclassname"><span class="pre">logilab.common.shellutils.</span></span><span class="sig-name descname"><span class="pre">unzip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">archive</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">destdir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/shellutils.html#unzip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.shellutils.unzip" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="logilab-common-sphinx-ext-module">
<span id="sphinx-ext"></span><h2>logilab.common.sphinx_ext module<a class="headerlink" href="#logilab-common-sphinx-ext-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-logilab.common.sphinxutils">
<span id="logilab-common-sphinxutils-module"></span><span id="sphinxutils"></span><h2>logilab.common.sphinxutils module<a class="headerlink" href="#module-logilab.common.sphinxutils" title="Permalink to this headline">¶</a></h2>
<p>Sphinx utils</p>
<p>ModuleGenerator: Generate a file that lists all the modules of a list of
packages in order to pull all the docstring.
This should not be used in a makefile to systematically generate sphinx
documentation!</p>
<p>Typical usage:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">from</span> <span class="nn">logilab.common.sphinxutils</span> <span class="kn">import</span> <span class="n">ModuleGenerator</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mgen</span> <span class="o">=</span> <span class="n">ModuleGenerator</span><span class="p">(</span><span class="s1">&#39;logilab common&#39;</span><span class="p">,</span> <span class="s1">&#39;/home/adim/src/logilab/common&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">mgen</span><span class="o">.</span><span class="n">generate</span><span class="p">(</span><span class="s1">&#39;api_logilab_common.rst&#39;</span><span class="p">,</span> <span class="n">exclude_dirs</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;test&#39;</span><span class="p">,))</span>
</pre></div>
</div>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.sphinxutils.</span></span><span class="sig-name descname"><span class="pre">ModuleGenerator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">project_title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code_dir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/sphinxutils.html#ModuleGenerator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator.class_def">
<span class="sig-name descname"><span class="pre">class_def</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n\n..</span> <span class="pre">autoclass::</span> <span class="pre">%s\n</span>&#160;&#160; <span class="pre">:members:</span> <span class="pre">%s\n\n'</span></em><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator.class_def" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator.file_header">
<span class="sig-name descname"><span class="pre">file_header</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'..</span> <span class="pre">-*-</span> <span class="pre">coding:</span> <span class="pre">utf-8</span> <span class="pre">-*-\n\n%s\n'</span></em><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator.file_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator.find_modules">
<span class="sig-name descname"><span class="pre">find_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/sphinxutils.html#ModuleGenerator.find_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator.find_modules" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator.gen_modules">
<span class="sig-name descname"><span class="pre">gen_modules</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/sphinxutils.html#ModuleGenerator.gen_modules"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator.gen_modules" title="Permalink to this definition">¶</a></dt>
<dd><p>generate all modules</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator.generate">
<span class="sig-name descname"><span class="pre">generate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_dirs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('CVS',</span> <span class="pre">'.svn',</span> <span class="pre">'.hg',</span> <span class="pre">'.git',</span> <span class="pre">'.tox',</span> <span class="pre">'debian',</span> <span class="pre">'dist',</span> <span class="pre">'build')</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/sphinxutils.html#ModuleGenerator.generate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator.generate" title="Permalink to this definition">¶</a></dt>
<dd><p>make the module file</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.ModuleGenerator.module_def">
<span class="sig-name descname"><span class="pre">module_def</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n:mod:`%s`\n=======%s\n\n..</span> <span class="pre">automodule::</span> <span class="pre">%s\n</span>&#160;&#160; <span class="pre">:members:</span> <span class="pre">%s\n'</span></em><a class="headerlink" href="#logilab.common.sphinxutils.ModuleGenerator.module_def" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.class_members">
<span class="sig-prename descclassname"><span class="pre">logilab.common.sphinxutils.</span></span><span class="sig-name descname"><span class="pre">class_members</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">klass</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/sphinxutils.html#class_members"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.sphinxutils.class_members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.sphinxutils.module_members">
<span class="sig-prename descclassname"><span class="pre">logilab.common.sphinxutils.</span></span><span class="sig-name descname"><span class="pre">module_members</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">module</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/sphinxutils.html#module_members"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.sphinxutils.module_members" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-logilab.common.table">
<span id="logilab-common-table-module"></span><span id="table"></span><h2>logilab.common.table module<a class="headerlink" href="#module-logilab.common.table" title="Permalink to this headline">¶</a></h2>
<p>Table management module.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.DocbookRenderer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">DocbookRenderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#DocbookRenderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.DocbookRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.table.TableCellRenderer" title="logilab.common.table.TableCellRenderer"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.table.TableCellRenderer</span></code></a></p>
<p>Defines how to render a cell for a docboook table</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.DocbookRenderer.define_col_header">
<span class="sig-name descname"><span class="pre">define_col_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.TableStyle" title="logilab.common.table.TableStyle"><span class="pre">logilab.common.table.TableStyle</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#DocbookRenderer.define_col_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.DocbookRenderer.define_col_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the colspec element according to the style</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.DocbookTableWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">DocbookTableWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_io.StringIO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#DocbookTableWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.DocbookTableWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.table.TableWriter" title="logilab.common.table.TableWriter"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.table.TableWriter</span></code></a></p>
<p>Defines an implementation of TableWriter to write a table in Docbook</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.DocbookTableWriter.write_table">
<span class="sig-name descname"><span class="pre">write_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#DocbookTableWriter.write_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.DocbookTableWriter.write_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the table</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.Table">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">Table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Table defines a data table with column and row names.
inv:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_names</span><span class="p">)</span>
<span class="n">forall</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">data</span><span class="p">,</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col_names</span><span class="p">))</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.append_column">
<span class="sig-name descname"><span class="pre">append_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.append_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.append_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends the ‘col_index’ column
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.append_row">
<span class="sig-name descname"><span class="pre">append_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.append_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.append_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends a row to the table
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.apply_stylesheet">
<span class="sig-name descname"><span class="pre">apply_stylesheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stylesheet</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.TableStyleSheet" title="logilab.common.table.TableStyleSheet"><span class="pre">logilab.common.table.TableStyleSheet</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.apply_stylesheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.apply_stylesheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Applies the stylesheet to this table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.as_text">
<span class="sig-name descname"><span class="pre">as_text</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table.as_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.as_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.create_column">
<span class="sig-name descname"><span class="pre">create_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.create_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.create_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a colname to the col_names list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.create_columns">
<span class="sig-name descname"><span class="pre">create_columns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.create_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.create_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends col_names to the list of existing columns</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.create_row">
<span class="sig-name descname"><span class="pre">create_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.create_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.create_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a rowname to the row_names list</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.create_rows">
<span class="sig-name descname"><span class="pre">create_rows</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_names</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.create_rows"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.create_rows" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends row_names to the list of existing rows</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.delete_column">
<span class="sig-name descname"><span class="pre">delete_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.delete_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.delete_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the ‘index’ column in the table, and returns it.
Raises an IndexError if index is out of range</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.delete_column_by_id">
<span class="sig-name descname"><span class="pre">delete_column_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.delete_column_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.delete_column_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the ‘col_id’ col in the table.
Raises a KeyError if col_id was not found.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.delete_row">
<span class="sig-name descname"><span class="pre">delete_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.delete_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.delete_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the ‘index’ row in the table, and returns it.
Raises an IndexError if index is out of range</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.delete_row_by_id">
<span class="sig-name descname"><span class="pre">delete_row_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.delete_row_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.delete_row_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes the ‘row_id’ row in the table.
Raises a KeyError if row_id was not found.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.get_cell_by_ids">
<span class="sig-name descname"><span class="pre">get_cell_by_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table.get_cell_by_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.get_cell_by_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the element at [row_id][col_id]</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.get_column">
<span class="sig-name descname"><span class="pre">get_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distinct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table.get_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.get_column" title="Permalink to this definition">¶</a></dt>
<dd><p>get a column by index</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.get_column_by_id">
<span class="sig-name descname"><span class="pre">get_column_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">distinct</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table.get_column_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.get_column_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ‘col_id’ col</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.get_columns">
<span class="sig-name descname"><span class="pre">get_columns</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.get_columns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.get_columns" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns all the columns in the table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.get_row_by_id">
<span class="sig-name descname"><span class="pre">get_row_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table.get_row_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.get_row_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the ‘row_id’ row</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.get_shape">
<span class="sig-name descname"><span class="pre">get_shape</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.get_shape"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.get_shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple which represents the table’s shape</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.groupby">
<span class="sig-name descname"><span class="pre">groupby</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">others</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.groupby"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.groupby" title="Permalink to this definition">¶</a></dt>
<dd><p>builds indexes of data
:returns: nested dictionaries pointing to actual rows</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.insert_column">
<span class="sig-name descname"><span class="pre">insert_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">range</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.insert_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.insert_column" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends col_data before ‘index’ in the table. To make ‘insert’
behave like ‘list.insert’, inserting in an out of range index will
insert col_data to the end of the list
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.insert_row">
<span class="sig-name descname"><span class="pre">insert_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.insert_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.insert_row" title="Permalink to this definition">¶</a></dt>
<dd><p>Appends row_data before ‘index’ in the table. To make ‘insert’
behave like ‘list.insert’, inserting in an out of range index will
insert row_data to the end of the list
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.pprint">
<span class="sig-name descname"><span class="pre">pprint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.pprint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.pprint" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a string representing the table in a pretty
printed ‘text’ format.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colname</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#Table.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.remove" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.select">
<span class="sig-name descname"><span class="pre">select</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">colname</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.select"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.select" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.set_cell">
<span class="sig-name descname"><span class="pre">set_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.set_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.set_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>sets value of cell ‘row_indew’, ‘col_index’ to data</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.set_cell_by_ids">
<span class="sig-name descname"><span class="pre">set_cell_by_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.set_cell_by_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.set_cell_by_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>sets value of cell mapped by row_id and col_id to data
Raises a KeyError if row_id or col_id are not found in the table</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.set_column">
<span class="sig-name descname"><span class="pre">set_column</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">range</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.set_column"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.set_column" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the ‘col_index’ column
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.set_column_by_id">
<span class="sig-name descname"><span class="pre">set_column_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">range</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.set_column_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.set_column_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the ‘col_id’ column
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">col_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col_names</span><span class="p">)</span>
</pre></div>
</div>
<p>Raises a KeyError if col_id is not found</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.set_row">
<span class="sig-name descname"><span class="pre">set_row</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.set_row"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.set_row" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the ‘row_index’ row
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">col_names</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.set_row_by_id">
<span class="sig-name descname"><span class="pre">set_row_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.set_row_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.set_row_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the ‘row_id’ column
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">type</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="n">types</span><span class="o">.</span><span class="n">ListType</span>
<span class="nb">len</span><span class="p">(</span><span class="n">row_data</span><span class="p">)</span> <span class="o">==</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">row_names</span><span class="p">)</span>
</pre></div>
</div>
<p>Raises a KeyError if row_id is not found</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="logilab.common.table.Table.shape">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shape</span></span><em class="property"><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></em><a class="headerlink" href="#logilab.common.table.Table.shape" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a tuple which represents the table’s shape</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.sort_by_column_id">
<span class="sig-name descname"><span class="pre">sort_by_column_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'asc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.sort_by_column_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.sort_by_column_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the table (in-place) according to data stored in col_id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.sort_by_column_index">
<span class="sig-name descname"><span class="pre">sort_by_column_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'asc'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.sort_by_column_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.sort_by_column_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Sorts the table ‘in-place’ according to data stored in col_index</p>
<p>method should be in (‘asc’, ‘desc’)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.Table.transpose">
<span class="sig-name descname"><span class="pre">transpose</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></span><a class="reference internal" href="_modules/logilab/common/table.html#Table.transpose"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.Table.transpose" title="Permalink to this definition">¶</a></dt>
<dd><p>Keeps the self object intact, and returns the transposed (rotated)
table.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.TableCellRenderer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">TableCellRenderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#TableCellRenderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableCellRenderer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines a simple text renderer</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableCellRenderer.render_cell">
<span class="sig-name descname"><span class="pre">render_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cell_coord</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.TableStyle" title="logilab.common.table.TableStyle"><span class="pre">logilab.common.table.TableStyle</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableCellRenderer.render_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableCellRenderer.render_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the cell at ‘cell_coord’ in the table, using table_style</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableCellRenderer.render_col_cell">
<span class="sig-name descname"><span class="pre">render_col_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.TableStyle" title="logilab.common.table.TableStyle"><span class="pre">logilab.common.table.TableStyle</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableCellRenderer.render_col_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableCellRenderer.render_col_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the cell for ‘col_id’ row</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableCellRenderer.render_row_cell">
<span class="sig-name descname"><span class="pre">render_row_cell</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">row_name</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">table_style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.TableStyle" title="logilab.common.table.TableStyle"><span class="pre">logilab.common.table.TableStyle</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableCellRenderer.render_row_cell"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableCellRenderer.render_row_cell" title="Permalink to this definition">¶</a></dt>
<dd><p>Renders the cell for ‘row_id’ row</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">TableStyle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Defines a table’s style</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.get_alignment">
<span class="sig-name descname"><span class="pre">get_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.get_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.get_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the alignment of the specified col_id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.get_alignment_by_index">
<span class="sig-name descname"><span class="pre">get_alignment_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.get_alignment_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.get_alignment_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Allors to get the alignment according to the column index rather than
using the column’s id.
BE CAREFUL : the ‘0’ column is the ‘__row_column__’ one !</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.get_size">
<span class="sig-name descname"><span class="pre">get_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.get_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the size of the specified col_id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.get_size_by_index">
<span class="sig-name descname"><span class="pre">get_size_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.get_size_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.get_size_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to get the size  according to the column index rather than
using the column’s id.
BE CAREFUL : the ‘0’ column is the ‘__row_column__’ one !</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.get_unit">
<span class="sig-name descname"><span class="pre">get_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.get_unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.get_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the unit of the specified col_id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.get_unit_by_index">
<span class="sig-name descname"><span class="pre">get_unit_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.get_unit_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.get_unit_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Allors to get the unit according to the column index rather than
using the column’s id.
BE CAREFUL : the ‘0’ column is the ‘__row_column__’ one !</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.set_alignment">
<span class="sig-name descname"><span class="pre">set_alignment</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.set_alignment"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.set_alignment" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the alignment of the specified col_id to value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.set_alignment_by_index">
<span class="sig-name descname"><span class="pre">set_alignment_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.set_alignment_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.set_alignment_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to set the alignment according to the column index rather than
using the column’s id.
BE CAREFUL : the ‘0’ column is the ‘__row_column__’ one !</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.set_size">
<span class="sig-name descname"><span class="pre">set_size</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.set_size"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.set_size" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the size of the specified col_id to value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.set_size_by_index">
<span class="sig-name descname"><span class="pre">set_size_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.set_size_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.set_size_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to set the size according to the column index rather than
using the column’s id.
BE CAREFUL : the ‘0’ column is the ‘__row_column__’ one !</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.set_unit">
<span class="sig-name descname"><span class="pre">set_unit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_id</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.set_unit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.set_unit" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the unit of the specified col_id to value</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyle.set_unit_by_index">
<span class="sig-name descname"><span class="pre">set_unit_by_index</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyle.set_unit_by_index"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyle.set_unit_by_index" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows to set the unit according to the column index rather than
using the column’s id.
BE CAREFUL :  the ‘0’ column is the ‘__row_column__’ one !
(Note that in the ‘unit’ case, you shouldn’t have to set a unit
for the 1st column (the __row__column__ one))</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.TableStyleSheet">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">TableStyleSheet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rules</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyleSheet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyleSheet" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple Table stylesheet
Rules are expressions where cells are defined by the row_index
and col_index separated by an underscore (‘_’).
For example, suppose you want to say that the (2,5) cell must be
the sum of its two preceding cells in the row, you would create
the following rule</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2_5</span> <span class="o">=</span> <span class="mi">2_3</span> <span class="o">+</span> <span class="mi">2_4</span>
</pre></div>
</div>
<p>You can also use all the math.* operations you want. For example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">2_5</span> <span class="o">=</span> <span class="n">sqrt</span><span class="p">(</span><span class="mi">2_3</span><span class="o">**</span><span class="mi">2</span> <span class="o">+</span> <span class="mi">2_4</span><span class="o">**</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyleSheet.add_colavg_rule">
<span class="sig-name descname"><span class="pre">add_colavg_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_cell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyleSheet.add_colavg_rule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyleSheet.add_colavg_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and adds a rule to make the col average (from start_row
to end_row)
dest_cell is a tuple of two elements (x,y) of the destination cell
No check is done for indexes ranges.
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">start_row</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">end_row</span> <span class="o">&gt;</span> <span class="n">start_row</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyleSheet.add_colsum_rule">
<span class="sig-name descname"><span class="pre">add_colsum_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_cell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">col_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_row</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyleSheet.add_colsum_rule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyleSheet.add_colsum_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and adds a rule to sum over the col at col_index from
start_row to end_row.
dest_cell is a tuple of two elements (x,y) of the destination cell
No check is done for indexes ranges.
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">start_row</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">end_row</span> <span class="o">&gt;</span> <span class="n">start_row</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyleSheet.add_rowavg_rule">
<span class="sig-name descname"><span class="pre">add_rowavg_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_cell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyleSheet.add_rowavg_rule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyleSheet.add_rowavg_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and adds a rule to make the row average (from start_col
to end_col)
dest_cell is a tuple of two elements (x,y) of the destination cell
No check is done for indexes ranges.
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">start_col</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">end_col</span> <span class="o">&gt;</span> <span class="n">start_col</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyleSheet.add_rowsum_rule">
<span class="sig-name descname"><span class="pre">add_rowsum_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dest_cell</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">row_index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_col</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyleSheet.add_rowsum_rule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyleSheet.add_rowsum_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates and adds a rule to sum over the row at row_index from
start_col to end_col.
dest_cell is a tuple of two elements (x,y) of the destination cell
No check is done for indexes ranges.
pre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">start_col</span> <span class="o">&gt;=</span> <span class="mi">0</span>
<span class="n">end_col</span> <span class="o">&gt;</span> <span class="n">start_col</span>
</pre></div>
</div>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableStyleSheet.add_rule">
<span class="sig-name descname"><span class="pre">add_rule</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rule</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableStyleSheet.add_rule"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableStyleSheet.add_rule" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds a rule to the stylesheet rules</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.table.TableWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.table.</span></span><span class="sig-name descname"><span class="pre">TableWriter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stream</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">_io.StringIO</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">table</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.Table" title="logilab.common.table.Table"><span class="pre">logilab.common.table.Table</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">properties</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#TableWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A class to write tables</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableWriter.set_renderer">
<span class="sig-name descname"><span class="pre">set_renderer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">renderer</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.table.DocbookRenderer" title="logilab.common.table.DocbookRenderer"><span class="pre">logilab.common.table.DocbookRenderer</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableWriter.set_renderer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableWriter.set_renderer" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the way to render cell</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableWriter.set_style">
<span class="sig-name descname"><span class="pre">set_style</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">style</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#TableWriter.set_style"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableWriter.set_style" title="Permalink to this definition">¶</a></dt>
<dd><p>sets the table’s associated style</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableWriter.update_properties">
<span class="sig-name descname"><span class="pre">update_properties</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">properties</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/table.html#TableWriter.update_properties"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableWriter.update_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Updates writer’s properties (for cell rendering)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.table.TableWriter.write_table">
<span class="sig-name descname"><span class="pre">write_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/table.html#TableWriter.write_table"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.table.TableWriter.write_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Writes the table</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.tasksqueue">
<span id="logilab-common-tasksqueue-module"></span><span id="tasksqueue"></span><h2>logilab.common.tasksqueue module<a class="headerlink" href="#module-logilab.common.tasksqueue" title="Permalink to this headline">¶</a></h2>
<p>Prioritized tasks queue</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tasksqueue.PrioritizedTasksQueue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tasksqueue.</span></span><span class="sig-name descname"><span class="pre">PrioritizedTasksQueue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">maxsize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tasksqueue.html#PrioritizedTasksQueue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tasksqueue.PrioritizedTasksQueue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">queue.Queue</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tasksqueue.PrioritizedTasksQueue.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/tasksqueue.html#PrioritizedTasksQueue.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tasksqueue.PrioritizedTasksQueue.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a specific task from the queue</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tasksqueue.Task">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tasksqueue.</span></span><span class="sig-name descname"><span class="pre">Task</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tasksqueue.html#Task"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tasksqueue.Task" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tasksqueue.Task.merge">
<span class="sig-name descname"><span class="pre">merge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">other</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.tasksqueue.Task" title="logilab.common.tasksqueue.Task"><span class="pre">logilab.common.tasksqueue.Task</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/tasksqueue.html#Task.merge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tasksqueue.Task.merge" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-logilab.common.testlib">
<span id="logilab-common-testlib-module"></span><span id="testlib"></span><h2>logilab.common.testlib module<a class="headerlink" href="#module-logilab.common.testlib" title="Permalink to this headline">¶</a></h2>
<p>Run tests.</p>
<p>This will find all modules whose name match a given prefix in the test
directory, and run them. Various command line options provide
additional facilities.</p>
<p>Command line options:</p>
<blockquote>
<div><dl class="option-list">
<dt><kbd><span class="option">-v</span></kbd></dt>
<dd><p>verbose – run tests in verbose mode with output to stdout</p>
</dd>
<dt><kbd><span class="option">-q</span></kbd></dt>
<dd><p>quiet   – don’t print anything except if a test fails</p>
</dd>
<dt><kbd><span class="option">-t</span></kbd></dt>
<dd><p>testdir – directory where the tests will be found</p>
</dd>
<dt><kbd><span class="option">-x</span></kbd></dt>
<dd><p>exclude – add a test to exclude</p>
</dd>
<dt><kbd><span class="option">-p</span></kbd></dt>
<dd><p>profile – profiled execution</p>
</dd>
<dt><kbd><span class="option">-d</span></kbd></dt>
<dd><p>dbc     – enable design-by-contract</p>
</dd>
<dt><kbd><span class="option">-m</span></kbd></dt>
<dd><p>match   – only run test matching the tag pattern which follow</p>
</dd>
</dl>
</div></blockquote>
<p>If no non-option arguments are present, prefixes used are ‘test’,
‘regrtest’, ‘smoketest’ and ‘unittest’.</p>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.testlib.find_tests">
<span class="sig-prename descclassname"><span class="pre">logilab.common.testlib.</span></span><span class="sig-name descname"><span class="pre">find_tests</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">testdir</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">prefixes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('test',</span> <span class="pre">'regrtest',</span> <span class="pre">'smoketest',</span> <span class="pre">'unittest',</span> <span class="pre">'func',</span> <span class="pre">'validation')</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'.py'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">excludes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">()</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">remove_suffix</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/testlib.html#find_tests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.testlib.find_tests" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a list of all applicable test modules.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.testlib.nocoverage">
<span class="sig-prename descclassname"><span class="pre">logilab.common.testlib.</span></span><span class="sig-name descname"><span class="pre">nocoverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Callable</span></span></span><a class="reference internal" href="_modules/logilab/common/testlib.html#nocoverage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.testlib.nocoverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Function decorator that pauses tracing functions</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.testlib.pause_trace">
<span class="sig-prename descclassname"><span class="pre">logilab.common.testlib.</span></span><span class="sig-name descname"><span class="pre">pause_trace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">trace</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Callable</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Iterator</span></span></span><a class="headerlink" href="#logilab.common.testlib.pause_trace" title="Permalink to this definition">¶</a></dt>
<dd><p>A context manager that temporary replaces the trace function</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="logilab.common.testlib.unittest_main">
<span class="sig-prename descclassname"><span class="pre">logilab.common.testlib.</span></span><span class="sig-name descname"><span class="pre">unittest_main</span></span><a class="headerlink" href="#logilab.common.testlib.unittest_main" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <code class="xref py py-class docutils literal notranslate"><span class="pre">unittest.main.TestProgram</span></code></p>
</dd></dl>

</section>
<section id="module-logilab.common.textutils">
<span id="logilab-common-textutils-module"></span><span id="textutils"></span><h2>logilab.common.textutils module<a class="headerlink" href="#module-logilab.common.textutils" title="Permalink to this headline">¶</a></h2>
<p>Some text manipulation utility functions.</p>
<dl class="field-list simple">
<dt class="field-odd">group text formatting</dt>
<dd class="field-odd"><p>normalize_text, normalize_paragraph, pretty_match,unquote, colorize_ansi</p>
</dd>
<dt class="field-even">group text manipulation</dt>
<dd class="field-even"><p>searchall, splitstrip</p>
</dd>
<dt class="field-odd">sort</dt>
<dd class="field-odd"><p>text formatting, text manipulation</p>
</dd>
<dt class="field-even">type ANSI_STYLES</dt>
<dd class="field-even"><p>dict(str)</p>
</dd>
<dt class="field-odd">var ANSI_STYLES</dt>
<dd class="field-odd"><p>dictionary mapping style identifier to ANSI terminal code</p>
</dd>
<dt class="field-even">type ANSI_COLORS</dt>
<dd class="field-even"><p>dict(str)</p>
</dd>
<dt class="field-odd">var ANSI_COLORS</dt>
<dd class="field-odd"><p>dictionary mapping color identifier to ANSI terminal code</p>
</dd>
<dt class="field-even">type ANSI_PREFIX</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">var ANSI_PREFIX</dt>
<dd class="field-odd"><p>ANSI terminal code notifying the start of an ANSI escape sequence</p>
</dd>
<dt class="field-even">type ANSI_END</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">var ANSI_END</dt>
<dd class="field-odd"><p>ANSI terminal code notifying the end of an ANSI escape sequence</p>
</dd>
<dt class="field-even">type ANSI_RESET</dt>
<dd class="field-even"><p>str</p>
</dd>
<dt class="field-odd">var ANSI_RESET</dt>
<dd class="field-odd"><p>ANSI terminal code resetting format defined by a previous ANSI escape sequence</p>
</dd>
</dl>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.apply_units">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">apply_units</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">string:</span> <span class="pre">str,</span> <span class="pre">units:</span> <span class="pre">Dict[str,</span> <span class="pre">int],</span> <span class="pre">inter:</span> <span class="pre">Union[Callable,</span> <span class="pre">None,</span> <span class="pre">type]</span> <span class="pre">=</span> <span class="pre">None,</span> <span class="pre">final:</span> <span class="pre">type</span> <span class="pre">=</span> <span class="pre">&lt;class</span> <span class="pre">'float'&gt;,</span> <span class="pre">blank_reg:</span> <span class="pre">re.Pattern</span> <span class="pre">=</span> <span class="pre">re.compile('(\\s|,)+'),</span> <span class="pre">value_reg:</span> <span class="pre">re.Pattern</span> <span class="pre">=</span> <span class="pre">re.compile('(?P&lt;value&gt;-?(([0-9]+\\.[0-9]*)|((0x?)?[0-9]+)))(?P&lt;unit&gt;[a-zA-Z]+)?')</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">float</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#apply_units"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.apply_units" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the string applying the units defined in units
(e.g.: “1.5m”,{‘m’,60} -&gt; 80).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> (<em>str</em><em> or </em><em>unicode</em>) – the string to parse</p></li>
<li><p><strong>units</strong> (<em>dict</em><em> (or </em><em>any object with __getitem__ using basestring key</em><em>)</em>) – a dict mapping a unit string repr to its value</p></li>
<li><p><strong>inter</strong> (<em>type</em>) – used to parse every intermediate value (need __sum__)</p></li>
<li><p><strong>blank_reg</strong> (<em>regexp</em>) – should match every blank char to ignore.</p></li>
<li><p><strong>value_reg</strong> (<em>regexp with &quot;value&quot; and optional &quot;unit&quot; group</em>) – match a value and it’s unit into the</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.colorize_ansi">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">colorize_ansi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">msg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">color</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#colorize_ansi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.colorize_ansi" title="Permalink to this definition">¶</a></dt>
<dd><p>colorize message by wrapping it with ansi escape codes</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>msg</strong> (<em>str</em><em> or </em><em>unicode</em>) – the message string to colorize</p></li>
<li><p><strong>color</strong> (<em>str</em><em> or </em><em>None</em>) – the color identifier (see <cite>ANSI_COLORS</cite> for available values)</p></li>
<li><p><strong>style</strong> (<em>str</em><em> or </em><em>None</em>) – style string (see <cite>ANSI_COLORS</cite> for available values). To get
several style effects at the same time, use a coma as separator.</p></li>
</ul>
</dd>
<dt class="field-even">Raises</dt>
<dd class="field-even"><p><strong>KeyError</strong> – if an unexistent color or style identifier is given</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>str or unicode</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the ansi escaped string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.diff_colorize_ansi">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">diff_colorize_ansi</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lines</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">out=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">style={'add':</span> <span class="pre">'green'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'remove':</span> <span class="pre">'red'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">'separator':</span> <span class="pre">'cyan'}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/textutils.html#diff_colorize_ansi"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.diff_colorize_ansi" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.normalize_paragraph">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">normalize_paragraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#normalize_paragraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.normalize_paragraph" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize a text to display it with a maximum line size and
optionally arbitrary indentation. Line jumps are normalized. The
indentation string may be used top insert a comment mark for
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em><em> or </em><em>unicode</em>) – the input text to normalize</p></li>
<li><p><strong>line_len</strong> (<em>int</em>) – expected maximum line’s length, default to 80</p></li>
<li><p><strong>indent</strong> (<em>str</em><em> or </em><em>unicode</em>) – optional string to use as indentation</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or unicode</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the input text normalized to fit on lines with a maximized size
inferior to <cite>line_len</cite>, and optionally prefixed by an
indentation string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.normalize_rest_paragraph">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">normalize_rest_paragraph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#normalize_rest_paragraph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.normalize_rest_paragraph" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize a ReST text to display it with a maximum line size and
optionally arbitrary indentation. Line jumps are normalized. The
indentation string may be used top insert a comment mark for
instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em><em> or </em><em>unicode</em>) – the input text to normalize</p></li>
<li><p><strong>line_len</strong> (<em>int</em>) – expected maximum line’s length, default to 80</p></li>
<li><p><strong>indent</strong> (<em>str</em><em> or </em><em>unicode</em>) – optional string to use as indentation</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or unicode</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the input text normalized to fit on lines with a maximized size
inferior to <cite>line_len</cite>, and optionally prefixed by an
indentation string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.normalize_text">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">normalize_text</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">80</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">indent</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rest</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#normalize_text"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.normalize_text" title="Permalink to this definition">¶</a></dt>
<dd><p>normalize a text to display it with a maximum line size and
optionally arbitrary indentation. Line jumps are normalized but blank
lines are kept. The indentation string may be used to insert a
comment (#) or a quoting (&gt;) mark  for instance.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>text</strong> (<em>str</em><em> or </em><em>unicode</em>) – the input text to normalize</p></li>
<li><p><strong>line_len</strong> (<em>int</em>) – expected maximum line’s length, default to 80</p></li>
<li><p><strong>indent</strong> (<em>str</em><em> or </em><em>unicode</em>) – optional string to use as indentation</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or unicode</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the input text normalized to fit on lines with a maximized size
inferior to <cite>line_len</cite>, and optionally prefixed by an
indentation string</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.pretty_match">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">pretty_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">match</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">re.Match</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">underline_char</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">'^'</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#pretty_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.pretty_match" title="Permalink to this definition">¶</a></dt>
<dd><p>return a string with the match location underlined:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">re</span>
<span class="gp">&gt;&gt;&gt; </span><span class="nb">print</span><span class="p">(</span><span class="n">pretty_match</span><span class="p">(</span><span class="n">re</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="s1">&#39;mange&#39;</span><span class="p">,</span> <span class="s1">&#39;il mange du bacon&#39;</span><span class="p">),</span> <span class="s1">&#39;il mange du bacon&#39;</span><span class="p">))</span>
<span class="go">il mange du bacon</span>
<span class="go">   ^^^^^</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>match</strong> (<em>_sre.SRE_match</em>) – object returned by re.match, re.search or re.finditer</p></li>
<li><p><strong>string</strong> (<em>str</em><em> or </em><em>unicode</em>) – the string on which the regular expression has been applied to
obtain the <cite>match</cite> object</p></li>
<li><p><strong>underline_char</strong> (<em>str</em><em> or </em><em>unicode</em>) – character to use to underline the matched section, default to the
carret ‘^’</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or unicode</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the original string with an inserted line to underline the match
location</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.split_url_or_path">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">split_url_or_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url_or_path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/textutils.html#split_url_or_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.split_url_or_path" title="Permalink to this definition">¶</a></dt>
<dd><p>return the latest component of a string containing either an url of the
form &lt;scheme&gt;://&lt;path&gt; or a local file system path</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.splitstrip">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">splitstrip</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sep</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">','</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#splitstrip"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.splitstrip" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of stripped string by splitting the string given as
argument on <cite>sep</cite> (‘,’ by default). Empty string are discarded.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">splitstrip</span><span class="p">(</span><span class="s1">&#39;a, b, c   ,  4,,&#39;</span><span class="p">)</span>
<span class="go">[&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;4&#39;]</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">splitstrip</span><span class="p">(</span><span class="s1">&#39;a&#39;</span><span class="p">)</span>
<span class="go">[&#39;a&#39;]</span>
<span class="go">&gt;&gt;&gt;</span>
</pre></div>
</div>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>string</strong> (<em>str</em><em> or </em><em>unicode</em>) – a csv line</p></li>
<li><p><strong>sep</strong> (<em>str</em><em> or </em><em>unicode</em>) – field separator, default to the comma (‘,’)</p></li>
</ul>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or unicode</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the unquoted string (or the input string if it wasn’t quoted)</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.splittext">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">splittext</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">line_len</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#splittext"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.splittext" title="Permalink to this definition">¶</a></dt>
<dd><p>split the given text on space according to the given max line size</p>
<p>return a 2-uple:
* a line &lt;= line_len if possible
* the rest of the text which has to be reported on another line</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.text_to_dict">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">text_to_dict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">text</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/textutils.html#text_to_dict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.text_to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>parse multilines text containing simple ‘key=value’ lines and return a
dict of {‘key’: ‘value’}. When the same key is encountered multiple time,
value is turned into a list containing all values.</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">d</span> <span class="o">=</span> <span class="n">text_to_dict</span><span class="p">(</span><span class="s1">&#39;&#39;&#39;multiple=1</span>
<span class="gp">... </span><span class="s1">multiple= 2</span>
<span class="gp">... </span><span class="s1">single =3</span>
<span class="gp">... </span><span class="s1">&#39;&#39;&#39;</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;single&#39;</span><span class="p">]</span>
<span class="go">&#39;3&#39;</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">d</span><span class="p">[</span><span class="s1">&#39;multiple&#39;</span><span class="p">]</span>
<span class="go">[&#39;1&#39;, &#39;2&#39;]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.unormalize">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">unormalize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">ustring</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignorenonascii</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">substitute</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#unormalize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.unormalize" title="Permalink to this definition">¶</a></dt>
<dd><p>replace diacritical characters with their corresponding ascii characters</p>
<p>Convert the unicode string to its long normalized form (unicode character
will be transform into several characters) and keep the first one only.
The normal form KD (NFKD) will apply the compatibility decomposition, i.e.
replace all compatibility characters with their equivalents.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>substitute</strong> (<em>str</em>) – replacement character to use if decomposition fails</p>
</dd>
<dt class="field-even">See</dt>
<dd class="field-even"><p>Another project about ASCII transliterations of Unicode text
<a class="reference external" href="http://pypi.python.org/pypi/Unidecode">http://pypi.python.org/pypi/Unidecode</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.textutils.unquote">
<span class="sig-prename descclassname"><span class="pre">logilab.common.textutils.</span></span><span class="sig-name descname"><span class="pre">unquote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/textutils.html#unquote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.textutils.unquote" title="Permalink to this definition">¶</a></dt>
<dd><p>remove optional quotes (simple or double) from the string</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>string</strong> (<em>str</em><em> or </em><em>unicode</em>) – an optionally quoted string</p>
</dd>
<dt class="field-even">Return type</dt>
<dd class="field-even"><p>str or unicode</p>
</dd>
<dt class="field-odd">Returns</dt>
<dd class="field-odd"><p>the unquoted string (or the input string if it wasn’t quoted)</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-logilab.common.tree">
<span id="logilab-common-tree-module"></span><span id="tree"></span><h2>logilab.common.tree module<a class="headerlink" href="#module-logilab.common.tree" title="Permalink to this headline">¶</a></h2>
<p>Base class to represent a tree structure.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tree.BinaryNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">BinaryNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lhs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rhs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#BinaryNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.BinaryNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.tree.VNode" title="logilab.common.tree.VNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.tree.VNode</span></code></a></p>
<p>a binary node (i.e. only two children</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.BinaryNode.get_parts">
<span class="sig-name descname"><span class="pre">get_parts</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#BinaryNode.get_parts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.BinaryNode.get_parts" title="Permalink to this definition">¶</a></dt>
<dd><p>return the left hand side and the right hand side of this node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.BinaryNode.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#BinaryNode.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.BinaryNode.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>remove the child and replace this node with the other child</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tree.ListNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">ListNode</span></span><a class="reference internal" href="_modules/logilab/common/tree.html#ListNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.ListNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.tree.VNode" title="logilab.common.tree.VNode"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.tree.VNode</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<p>Used to manipulate Nodes as Lists</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.ListNode.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#ListNode.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.ListNode.append" title="Permalink to this definition">¶</a></dt>
<dd><p>add a node to children</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.ListNode.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#ListNode.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.ListNode.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>add a node to children</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.ListNode.pop">
<span class="sig-name descname"><span class="pre">pop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#ListNode.pop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.ListNode.pop" title="Permalink to this definition">¶</a></dt>
<dd><p>add a node to children</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.ListNode.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#ListNode.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.ListNode.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>add a node to children</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tree.Node">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">Node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#Node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>a basic tree node, characterized by an id</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.append">
<span class="sig-name descname"><span class="pre">append</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.append"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.append" title="Permalink to this definition">¶</a></dt>
<dd><p>add a node to children</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.depth">
<span class="sig-name descname"><span class="pre">depth</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.depth"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.depth" title="Permalink to this definition">¶</a></dt>
<dd><p>return depth of this node in the tree</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.depth_down">
<span class="sig-name descname"><span class="pre">depth_down</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.depth_down"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.depth_down" title="Permalink to this definition">¶</a></dt>
<dd><p>return depth of the tree from this node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.flatten">
<span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_list</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list with all the nodes descendant from this node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.get_child_by_id">
<span class="sig-name descname"><span class="pre">get_child_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recurse</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">bool</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.get_child_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.get_child_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>return child of given id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.get_child_by_path">
<span class="sig-name descname"><span class="pre">get_child_by_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.get_child_by_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.get_child_by_path" title="Permalink to this definition">¶</a></dt>
<dd><p>return child of given path (path is a list of ids)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.get_node_by_id">
<span class="sig-name descname"><span class="pre">get_node_by_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.get_node_by_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.get_node_by_id" title="Permalink to this definition">¶</a></dt>
<dd><p>return node in whole hierarchy that has given id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.get_sibling">
<span class="sig-name descname"><span class="pre">get_sibling</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.get_sibling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.get_sibling" title="Permalink to this definition">¶</a></dt>
<dd><p>return the sibling node that has given id</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.insert">
<span class="sig-name descname"><span class="pre">insert</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.insert"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.insert" title="Permalink to this definition">¶</a></dt>
<dd><p>insert a child node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.is_leaf">
<span class="sig-name descname"><span class="pre">is_leaf</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.is_leaf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.is_leaf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.leaves">
<span class="sig-name descname"><span class="pre">leaves</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.leaves"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.leaves" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list with all the leaves nodes descendant from this node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.lineage">
<span class="sig-name descname"><span class="pre">lineage</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.lineage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.lineage" title="Permalink to this definition">¶</a></dt>
<dd><p>return list of parents up to root node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.next_sibling">
<span class="sig-name descname"><span class="pre">next_sibling</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.next_sibling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.next_sibling" title="Permalink to this definition">¶</a></dt>
<dd><p>return the next sibling for this node if any</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.previous_sibling">
<span class="sig-name descname"><span class="pre">previous_sibling</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.previous_sibling"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.previous_sibling" title="Permalink to this definition">¶</a></dt>
<dd><p>return the previous sibling for this node if any</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.remove">
<span class="sig-name descname"><span class="pre">remove</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.remove"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.remove" title="Permalink to this definition">¶</a></dt>
<dd><p>remove a child node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.replace">
<span class="sig-name descname"><span class="pre">replace</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">old_child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">new_child</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">None</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.replace"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.replace" title="Permalink to this definition">¶</a></dt>
<dd><p>replace a child node with another</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.root">
<span class="sig-name descname"><span class="pre">root</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Any</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.root"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.root" title="Permalink to this definition">¶</a></dt>
<dd><p>return the root node of the tree</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.tree.Node.width">
<span class="sig-name descname"><span class="pre">width</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#Node.width"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.Node.width" title="Permalink to this definition">¶</a></dt>
<dd><p>return the width of the tree from this node</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="logilab.common.tree.NodeNotFound">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">NodeNotFound</span></span><a class="reference internal" href="_modules/logilab/common/tree.html#NodeNotFound"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.NodeNotFound" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>raised when a node has not been found</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tree.PostfixedDepthFirstIterator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">PostfixedDepthFirstIterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.tree.Node" title="logilab.common.tree.Node"><span class="pre">logilab.common.tree.Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#PostfixedDepthFirstIterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.PostfixedDepthFirstIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.visitor.FilteredIterator" title="logilab.common.visitor.FilteredIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.visitor.FilteredIterator</span></code></a></p>
<p>a postfixed depth first iterator, designed to be used with visitors</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tree.PrefixedDepthFirstIterator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">PrefixedDepthFirstIterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="#logilab.common.tree.Node" title="logilab.common.tree.Node"><span class="pre">logilab.common.tree.Node</span></a></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#PrefixedDepthFirstIterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.PrefixedDepthFirstIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.visitor.FilteredIterator" title="logilab.common.visitor.FilteredIterator"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.visitor.FilteredIterator</span></code></a></p>
<p>a prefixed depth first iterator, designed to be used with visitors</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tree.VNode">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">VNode</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">nid</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/tree.html#VNode"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.VNode" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#logilab.common.tree.Node" title="logilab.common.tree.Node"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.tree.Node</span></code></a>, <a class="reference internal" href="#logilab.common.visitor.VisitedMixIn" title="logilab.common.visitor.VisitedMixIn"><code class="xref py py-class docutils literal notranslate"><span class="pre">logilab.common.visitor.VisitedMixIn</span></code></a></p>
<p>a visitable node</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.tree.post_order_list">
<span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">post_order_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">node:</span> <span class="pre">Optional[logilab.common.tree.Node],</span> <span class="pre">filter_func:</span> <span class="pre">Callable</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">no_filter&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#logilab.common.tree.Node" title="logilab.common.tree.Node"><span class="pre">logilab.common.tree.Node</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#post_order_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.post_order_list" title="Permalink to this definition">¶</a></dt>
<dd><p>create a list with tree nodes for which the &lt;filter&gt; function returned true
in a post order fashion</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.tree.pre_order_list">
<span class="sig-prename descclassname"><span class="pre">logilab.common.tree.</span></span><span class="sig-name descname"><span class="pre">pre_order_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="pre">node:</span> <span class="pre">Optional[logilab.common.tree.Node],</span> <span class="pre">filter_func:</span> <span class="pre">Callable</span> <span class="pre">=</span> <span class="pre">&lt;function</span> <span class="pre">no_filter&gt;</span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#logilab.common.tree.Node" title="logilab.common.tree.Node"><span class="pre">logilab.common.tree.Node</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/tree.html#pre_order_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tree.pre_order_list" title="Permalink to this definition">¶</a></dt>
<dd><p>create a list with tree nodes for which the &lt;filter&gt; function returned true
in a pre order fashion</p>
</dd></dl>

</section>
<section id="module-logilab.common.umessage">
<span id="logilab-common-umessage-module"></span><span id="umessage"></span><h2>logilab.common.umessage module<a class="headerlink" href="#module-logilab.common.umessage" title="Permalink to this headline">¶</a></h2>
<p>Unicode email support (extends email from stdlib)</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.umessage.</span></span><span class="sig-name descname"><span class="pre">UMessage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">email.message.Message</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulates an email.Message instance and returns only unicode objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.date">
<span class="sig-name descname"><span class="pre">date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">alternative_source</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_str</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.date" title="Permalink to this definition">¶</a></dt>
<dd><p>return a datetime object for the email’s date or None if no date is
set or if it can’t be parsed</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get_all">
<span class="sig-name descname"><span class="pre">get_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Tuple</span><span class="p"><span class="pre">[</span></span><span class="p"><span class="pre">(</span></span><span class="p"><span class="pre">)</span></span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">()</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">List</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get_boundary">
<span class="sig-name descname"><span class="pre">get_boundary</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get_boundary"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get_boundary" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get_content_maintype">
<span class="sig-name descname"><span class="pre">get_content_maintype</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get_content_maintype"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get_content_maintype" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get_content_type">
<span class="sig-name descname"><span class="pre">get_content_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get_content_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get_content_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get_filename">
<span class="sig-name descname"><span class="pre">get_filename</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">failobj</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get_filename"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get_filename" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.get_payload">
<span class="sig-name descname"><span class="pre">get_payload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">index</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">decode</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">bool</span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><a class="reference internal" href="#logilab.common.umessage.UMessage" title="logilab.common.umessage.UMessage"><span class="pre">logilab.common.umessage.UMessage</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">List</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#logilab.common.umessage.UMessage" title="logilab.common.umessage.UMessage"><span class="pre">logilab.common.umessage.UMessage</span></a><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.get_payload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.get_payload" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.headers">
<span class="sig-name descname"><span class="pre">headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.headers" title="Permalink to this definition">¶</a></dt>
<dd><p>return an unicode string containing all the message’s headers</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.is_multipart">
<span class="sig-name descname"><span class="pre">is_multipart</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.is_multipart"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.is_multipart" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.multi_addrs">
<span class="sig-name descname"><span class="pre">multi_addrs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.multi_addrs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.multi_addrs" title="Permalink to this definition">¶</a></dt>
<dd><p>return a list of 2-uple (name, address) for the given address (which
is expected to be an header containing address such as from, to, cc…)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.umessage.UMessage.walk">
<span class="sig-name descname"><span class="pre">walk</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#UMessage.walk"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.UMessage.walk" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.umessage.decode_QP">
<span class="sig-prename descclassname"><span class="pre">logilab.common.umessage.</span></span><span class="sig-name descname"><span class="pre">decode_QP</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/umessage.html#decode_QP"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.decode_QP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.umessage.message_from_file">
<span class="sig-prename descclassname"><span class="pre">logilab.common.umessage.</span></span><span class="sig-name descname"><span class="pre">message_from_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fd</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/umessage.html#message_from_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.message_from_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.umessage.message_from_string">
<span class="sig-prename descclassname"><span class="pre">logilab.common.umessage.</span></span><span class="sig-name descname"><span class="pre">message_from_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="#logilab.common.umessage.UMessage" title="logilab.common.umessage.UMessage"><span class="pre">logilab.common.umessage.UMessage</span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/umessage.html#message_from_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.umessage.message_from_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="logilab-common-urllib2ext-module">
<span id="urllib2ext"></span><h2>logilab.common.urllib2ext module<a class="headerlink" href="#logilab-common-urllib2ext-module" title="Permalink to this headline">¶</a></h2>
</section>
<section id="module-logilab.common.vcgutils">
<span id="logilab-common-vcgutils-module"></span><span id="vcgutils"></span><h2>logilab.common.vcgutils module<a class="headerlink" href="#module-logilab.common.vcgutils" title="Permalink to this headline">¶</a></h2>
<p>Functions to generate files readable with Georg Sander’s vcg
(Visualization of Compiler Graphs).</p>
<p>You can download vcg at <a class="reference external" href="http://rw4.cs.uni-sb.de/~sander/html/gshome.html">http://rw4.cs.uni-sb.de/~sander/html/gshome.html</a>
Note that vcg exists as a debian package.</p>
<p>See vcg’s documentation for explanation about the different values that
maybe used for the functions parameters.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.vcgutils.VCGPrinter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.vcgutils.</span></span><span class="sig-name descname"><span class="pre">VCGPrinter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">output_stream</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/vcgutils.html#VCGPrinter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.vcgutils.VCGPrinter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A vcg graph writer.</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.vcgutils.VCGPrinter.close_graph">
<span class="sig-name descname"><span class="pre">close_graph</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/vcgutils.html#VCGPrinter.close_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.vcgutils.VCGPrinter.close_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>close a vcg graph</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.vcgutils.VCGPrinter.edge">
<span class="sig-name descname"><span class="pre">edge</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edge_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/vcgutils.html#VCGPrinter.edge"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.vcgutils.VCGPrinter.edge" title="Permalink to this definition">¶</a></dt>
<dd><p>draw an edge from a node to another.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.vcgutils.VCGPrinter.node">
<span class="sig-name descname"><span class="pre">node</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/vcgutils.html#VCGPrinter.node"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.vcgutils.VCGPrinter.node" title="Permalink to this definition">¶</a></dt>
<dd><p>draw a node</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.vcgutils.VCGPrinter.open_graph">
<span class="sig-name descname"><span class="pre">open_graph</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/vcgutils.html#VCGPrinter.open_graph"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.vcgutils.VCGPrinter.open_graph" title="Permalink to this definition">¶</a></dt>
<dd><p>open a vcg graph</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.vcgutils.latin_to_vcg">
<span class="sig-prename descclassname"><span class="pre">logilab.common.vcgutils.</span></span><span class="sig-name descname"><span class="pre">latin_to_vcg</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">st</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/vcgutils.html#latin_to_vcg"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.vcgutils.latin_to_vcg" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert latin characters using vcg escape sequence.</p>
</dd></dl>

</section>
<section id="module-logilab.common.visitor">
<span id="logilab-common-visitor-module"></span><span id="visitor"></span><h2>logilab.common.visitor module<a class="headerlink" href="#module-logilab.common.visitor" title="Permalink to this headline">¶</a></h2>
<p>A generic visitor abstract implementation.</p>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.visitor.FilteredIterator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.visitor.</span></span><span class="sig-name descname"><span class="pre">FilteredIterator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">logilab.common.types.Node</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">list_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span><span class="w"> </span><span class="o"><span class="pre">=</span></span><span class="w"> </span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/visitor.html#FilteredIterator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.FilteredIterator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.FilteredIterator.next">
<span class="sig-name descname"><span class="pre">next</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.types.Node</span><span class="p"><span class="pre">]</span></span></span></span><a class="headerlink" href="#logilab.common.visitor.FilteredIterator.next" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.visitor.VisitedMixIn">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.visitor.</span></span><span class="sig-name descname"><span class="pre">VisitedMixIn</span></span><a class="reference internal" href="_modules/logilab/common/visitor.html#VisitedMixIn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.VisitedMixIn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Visited interface allow node visitors to use the node</p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.VisitedMixIn.accept">
<span class="sig-name descname"><span class="pre">accept</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitor</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Union</span><span class="p"><span class="pre">[</span></span><span class="pre">logilab.common.types.HTMLWriter</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">logilab.common.types.TextWriter</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Any</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">Any</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/visitor.html#VisitedMixIn.accept"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.VisitedMixIn.accept" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.VisitedMixIn.get_visit_name">
<span class="sig-name descname"><span class="pre">get_visit_name</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">str</span></span></span><a class="reference internal" href="_modules/logilab/common/visitor.html#VisitedMixIn.get_visit_name"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.VisitedMixIn.get_visit_name" title="Permalink to this definition">¶</a></dt>
<dd><p>return the visit name for the mixed class. When calling ‘accept’, the
method &lt;’<a href="#id35"><span class="problematic" id="id36">visit_</span></a>’ + name returned by this method&gt; will be called on the
visitor</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.VisitedMixIn.leave">
<span class="sig-name descname"><span class="pre">leave</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">visitor</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/visitor.html#VisitedMixIn.leave"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.VisitedMixIn.leave" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.visitor.Visitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.visitor.</span></span><span class="sig-name descname"><span class="pre">Visitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterator_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filter_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/visitor.html#Visitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.Visitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.Visitor.close_visit">
<span class="sig-name descname"><span class="pre">close_visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/visitor.html#Visitor.close_visit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.Visitor.close_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>method called at the end of the visit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.Visitor.open_visit">
<span class="sig-name descname"><span class="pre">open_visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/visitor.html#Visitor.open_visit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.Visitor.open_visit" title="Permalink to this definition">¶</a></dt>
<dd><p>method called at the beginning of the visit</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="logilab.common.visitor.Visitor.visit">
<span class="sig-name descname"><span class="pre">visit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">node</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common/visitor.html#Visitor.visit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.Visitor.visit" title="Permalink to this definition">¶</a></dt>
<dd><p>launch the visit on a given node</p>
<p>call ‘open_visit’ before the beginning of the visit, with extra args
given
when all nodes have been visited, call the ‘close_visit’ method</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.visitor.no_filter">
<span class="sig-prename descclassname"><span class="pre">logilab.common.visitor.</span></span><span class="sig-name descname"><span class="pre">no_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">logilab.common.types.Node</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">int</span></span></span><a class="reference internal" href="_modules/logilab/common/visitor.html#no_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.visitor.no_filter" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-logilab.common.xmlutils">
<span id="logilab-common-xmlutils-module"></span><span id="xmlutils"></span><h2>logilab.common.xmlutils module<a class="headerlink" href="#module-logilab.common.xmlutils" title="Permalink to this headline">¶</a></h2>
<p>XML utilities.</p>
<p>This module contains useful functions for parsing and using XML data. For the
moment, there is only one function that can parse the data inside a processing
instruction and return a Python dictionary.</p>
<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.xmlutils.parse_pi_data">
<span class="sig-prename descclassname"><span class="pre">logilab.common.xmlutils.</span></span><span class="sig-name descname"><span class="pre">parse_pi_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pi_data</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Dict</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/logilab/common/xmlutils.html#parse_pi_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.xmlutils.parse_pi_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Utility function that parses the data contained in an XML
processing instruction and returns a dictionary of keywords and their
associated values (most of the time, the processing instructions contain
data like <code class="docutils literal notranslate"><span class="pre">keyword=&quot;value&quot;</span></code>, if a keyword is not associated to a value,
for example <code class="docutils literal notranslate"><span class="pre">keyword</span></code>, it will be associated to <code class="docutils literal notranslate"><span class="pre">None</span></code>).</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>pi_data</strong> (<em>unicode</em>) – data contained in an XML processing instruction.</p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>Dictionary of the keywords (Unicode strings) associated to
their values (Unicode strings) as they were defined in the
data.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-logilab.common">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-logilab.common" title="Permalink to this headline">¶</a></h2>
<p>Logilab common library (aka Logilab’s extension to the standard library).</p>
<dl class="field-list simple">
<dt class="field-odd">type STD_BLACKLIST</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">var STD_BLACKLIST</dt>
<dd class="field-even"><p>directories ignored by default by the functions in
this package which have to recurse into directories</p>
</dd>
<dt class="field-odd">type IGNORED_EXTENSIONS</dt>
<dd class="field-odd"><p>tuple</p>
</dd>
<dt class="field-even">var IGNORED_EXTENSIONS</dt>
<dd class="field-even"><p>file extensions that may usually be ignored</p>
</dd>
</dl>
<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.attrdict">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.</span></span><span class="sig-name descname"><span class="pre">attrdict</span></span><a class="reference internal" href="_modules/logilab/common.html#attrdict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.attrdict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
<p>A dictionary for which keys are also accessible as attributes.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.dictattr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.</span></span><span class="sig-name descname"><span class="pre">dictattr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">proxy</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common.html#dictattr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.dictattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">dict</span></code></p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.flatten">
<span class="sig-prename descclassname"><span class="pre">logilab.common.</span></span><span class="sig-name descname"><span class="pre">flatten</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">iterable</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tr_func</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">results</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common.html#flatten"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.flatten" title="Permalink to this definition">¶</a></dt>
<dd><p>Flatten a list of list with any level.</p>
<p>If tr_func is not None, it should be a one argument function that’ll be called
on each final element.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">flatten</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="p">[</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">]])</span>
<span class="go">[1, 2, 3]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="logilab.common.make_domains">
<span class="sig-prename descclassname"><span class="pre">logilab.common.</span></span><span class="sig-name descname"><span class="pre">make_domains</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lists</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common.html#make_domains"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.make_domains" title="Permalink to this definition">¶</a></dt>
<dd><p>Given a list of lists, return a list of domain for each list to produce all
combinations of possibles values.</p>
<dl class="field-list simple">
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>list</p>
</dd>
</dl>
<p>Example:</p>
<div class="doctest highlight-default notranslate"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="n">make_domains</span><span class="p">([</span><span class="s1">&#39;a&#39;</span><span class="p">,</span> <span class="s1">&#39;b&#39;</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;c&#39;</span><span class="p">,</span><span class="s1">&#39;d&#39;</span><span class="p">,</span> <span class="s1">&#39;e&#39;</span><span class="p">])</span>
<span class="go">[[&#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;, &#39;a&#39;, &#39;b&#39;], [&#39;c&#39;, &#39;c&#39;, &#39;d&#39;, &#39;d&#39;, &#39;e&#39;, &#39;e&#39;]]</span>
</pre></div>
</div>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.nullobject">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.</span></span><span class="sig-name descname"><span class="pre">nullobject</span></span><a class="reference internal" href="_modules/logilab/common.html#nullobject"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.nullobject" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="logilab.common.tempattr">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">logilab.common.</span></span><span class="sig-name descname"><span class="pre">tempattr</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">attr</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/logilab/common.html#tempattr"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#logilab.common.tempattr" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">logilab common</a></h1>








<h3>Navigation</h3>
<p class="caption" role="heading"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">logilab.common package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#subpackages">Subpackages</a></li>
<li class="toctree-l2"><a class="reference internal" href="#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.cache">logilab.common.cache module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.changelog">logilab.common.changelog module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.clcommands">logilab.common.clcommands module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.compat">logilab.common.compat module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.configuration">logilab.common.configuration module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.daemon">logilab.common.daemon module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.date">logilab.common.date module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.debugger">logilab.common.debugger module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.decorators">logilab.common.decorators module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.deprecation">logilab.common.deprecation module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.fileutils">logilab.common.fileutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.graph">logilab.common.graph module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.interface">logilab.common.interface module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.logging_ext">logilab.common.logging_ext module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.modutils">logilab.common.modutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.optik_ext">logilab.common.optik_ext module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.optparser">logilab.common.optparser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.proc">logilab.common.proc module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.pytest">logilab.common.pytest module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.registry">logilab.common.registry module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.shellutils">logilab.common.shellutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logilab-common-sphinx-ext-module">logilab.common.sphinx_ext module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.sphinxutils">logilab.common.sphinxutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.table">logilab.common.table module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.tasksqueue">logilab.common.tasksqueue module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.testlib">logilab.common.testlib module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.textutils">logilab.common.textutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.tree">logilab.common.tree module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.umessage">logilab.common.umessage module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#logilab-common-urllib2ext-module">logilab.common.urllib2ext module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.vcgutils">logilab.common.vcgutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.visitor">logilab.common.visitor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common.xmlutils">logilab.common.xmlutils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="#module-logilab.common">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="logilab.common.ureports.html">logilab.common.ureports package</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="index.html" title="previous chapter">Logilab’s common library</a></li>
      <li>Next: <a href="logilab.common.ureports.html" title="next chapter">logilab.common.ureports package</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Logilab.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.3.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/logilab.common.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>